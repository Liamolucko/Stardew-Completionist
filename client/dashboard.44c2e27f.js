import{S as e,i as t,s,a as l,e as n,t as o,L as r,q as a,d as c,b as i,f,g as h,h as u,k as d,l as m,m as g,p,B as v,o as $,u as b,v as E,A as y,w as j,x,J as D,C as O,c as T,j as H,n as w,r as B,y as G,z as I}from"./client.d70c2fd9.js";import{T as V}from"./Table.d22536db.js";import{I as q}from"./ItemButton.44f2791c.js";function A(e,t,s){const l=e.slice();return l[6]=t[s][0],l[7]=t[s][1],l}function C(e,t,s){const l=e.slice();return l[10]=t[s],l}function k(e,t,s){const l=e.slice();return l[13]=t[s],l}function M(e,t,s){const l=e.slice();return l[16]=t[s],l}function R(e){let t,s;return{c(){t=n("p"),s=o("When you select a save file, this section shows information about what you\n    should do next."),this.h()},l(e){t=f(e,"P",{class:!0});var l=h(t);s=u(l,"When you select a save file, this section shows information about what you\n    should do next."),l.forEach(c),this.h()},h(){d(t,"class","no-save svelte-7re0bb")},m(e,l){m(e,t,l),g(t,s)},p:D,i:D,o:D,d(e){e&&c(t)}}}function S(e){let t,s,o,r,a;return s=new O({props:{outlined:!0,$$slots:{default:[L]},$$scope:{ctx:e}}}),r=new O({props:{outlined:!0,class:"seasonal",$$slots:{default:[P]},$$scope:{ctx:e}}}),{c(){t=n("div"),T(s.$$.fragment),o=l(),T(r.$$.fragment),this.h()},l(e){t=f(e,"DIV",{class:!0});var l=h(t);H(s.$$.fragment,l),o=i(l),H(r.$$.fragment,l),l.forEach(c),this.h()},h(){d(t,"class","container svelte-7re0bb")},m(e,l){m(e,t,l),w(s,t,null),g(t,o),w(r,t,null),a=!0},p(e,t){const l={};524290&t&&(l.$$scope={dirty:t,ctx:e}),s.$set(l);const n={};524293&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){a||($(s.$$.fragment,e),$(r.$$.fragment,e),a=!0)},o(e){p(s.$$.fragment,e),p(r.$$.fragment,e),a=!1},d(e){e&&c(t),B(s),B(r)}}}function U(e){let t,s;return{c(){t=n("img"),this.h()},l(e){t=f(e,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){d(t,"alt","heart"),t.src!==(s="./images/heart-"+(e[10].hearts>=e[16]+1?"filled":"outline")+".png")&&d(t,"src",s),d(t,"class","svelte-7re0bb")},m(e,s){m(e,t,s)},p(e,l){2&l&&t.src!==(s="./images/heart-"+(e[10].hearts>=e[16]+1?"filled":"outline")+".png")&&d(t,"src",s)},d(e){e&&c(t)}}}function W(e){let t,s;return t=new q({props:{item:e[13],scale:e[13].craftable?1:2}}),{c(){T(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,l){w(t,e,l),s=!0},p(e,s){const l={};2&s&&(l.item=e[13]),2&s&&(l.scale=e[13].craftable?1:2),t.$set(l)},i(e){s||($(t.$$.fragment,e),s=!0)},o(e){p(t.$$.fragment,e),s=!1},d(e){B(t,e)}}}function z(e){let t,s,r,a,b,E,j,x,D,O,T,H,w,B,V=e[10].villager+"",q=e[10].date+"",A=[...Array(e[10].maxHearts).keys()],C=[];for(let t=0;t<A.length;t+=1)C[t]=U(M(e,A,t));let R=e[10].bestGifts,S=[];for(let t=0;t<R.length;t+=1)S[t]=W(k(e,R,t));const z=e=>p(S[e],1,1,(()=>{S[e]=null}));return{c(){t=n("tr"),s=n("th"),r=o(V),a=l(),b=n("td"),E=n("div");for(let e=0;e<C.length;e+=1)C[e].c();j=l(),x=n("td"),D=o(q),O=l(),T=n("td"),H=n("div");for(let e=0;e<S.length;e+=1)S[e].c();w=l(),this.h()},l(e){t=f(e,"TR",{});var l=h(t);s=f(l,"TH",{scope:!0});var n=h(s);r=u(n,V),n.forEach(c),a=i(l),b=f(l,"TD",{});var o=h(b);E=f(o,"DIV",{class:!0});var d=h(E);for(let e=0;e<C.length;e+=1)C[e].l(d);d.forEach(c),o.forEach(c),j=i(l),x=f(l,"TD",{});var m=h(x);D=u(m,q),m.forEach(c),O=i(l),T=f(l,"TD",{});var g=h(T);H=f(g,"DIV",{class:!0});var p=h(H);for(let e=0;e<S.length;e+=1)S[e].l(p);p.forEach(c),g.forEach(c),w=i(l),l.forEach(c),this.h()},h(){d(s,"scope","row"),d(E,"class","hearts svelte-7re0bb"),d(H,"class","best-gifts svelte-7re0bb")},m(e,l){m(e,t,l),g(t,s),g(s,r),g(t,a),g(t,b),g(b,E);for(let e=0;e<C.length;e+=1)C[e].m(E,null);g(t,j),g(t,x),g(x,D),g(t,O),g(t,T),g(T,H);for(let e=0;e<S.length;e+=1)S[e].m(H,null);g(t,w),B=!0},p(e,t){if((!B||2&t)&&V!==(V=e[10].villager+"")&&G(r,V),2&t){let s;for(A=[...Array(e[10].maxHearts).keys()],s=0;s<A.length;s+=1){const l=M(e,A,s);C[s]?C[s].p(l,t):(C[s]=U(l),C[s].c(),C[s].m(E,null))}for(;s<C.length;s+=1)C[s].d(1);C.length=A.length}if((!B||2&t)&&q!==(q=e[10].date+"")&&G(D,q),2&t){let s;for(R=e[10].bestGifts,s=0;s<R.length;s+=1){const l=k(e,R,s);S[s]?(S[s].p(l,t),$(S[s],1)):(S[s]=W(l),S[s].c(),$(S[s],1),S[s].m(H,null))}for(y(),s=R.length;s<S.length;s+=1)z(s);v()}},i(e){if(!B){for(let e=0;e<R.length;e+=1)$(S[e]);B=!0}},o(e){S=S.filter(Boolean);for(let e=0;e<S.length;e+=1)p(S[e]);B=!1},d(e){e&&c(t),I(C,e),I(S,e)}}}function J(e){let t,s,r,a,b,E,j,x,D,O,T,H,w,B,G,V,q=e[1],A=[];for(let t=0;t<q.length;t+=1)A[t]=z(C(e,q,t));const k=e=>p(A[e],1,1,(()=>{A[e]=null}));return{c(){t=n("thead"),s=n("tr"),r=n("th"),a=o("Villager"),b=l(),E=n("th"),j=o("Hearts"),x=l(),D=n("th"),O=o("Birthday"),T=l(),H=n("th"),w=o("Best Gifts"),B=l(),G=n("tbody");for(let e=0;e<A.length;e+=1)A[e].c();this.h()},l(e){t=f(e,"THEAD",{});var l=h(t);s=f(l,"TR",{});var n=h(s);r=f(n,"TH",{role:!0,scope:!0});var o=h(r);a=u(o,"Villager"),o.forEach(c),b=i(n),E=f(n,"TH",{role:!0,scope:!0});var d=h(E);j=u(d,"Hearts"),d.forEach(c),x=i(n),D=f(n,"TH",{role:!0,scope:!0});var m=h(D);O=u(m,"Birthday"),m.forEach(c),T=i(n),H=f(n,"TH",{role:!0,scope:!0});var g=h(H);w=u(g,"Best Gifts"),g.forEach(c),n.forEach(c),l.forEach(c),B=i(e),G=f(e,"TBODY",{});var p=h(G);for(let e=0;e<A.length;e+=1)A[e].l(p);p.forEach(c),this.h()},h(){d(r,"role","columnheader"),d(r,"scope","col"),d(E,"role","columnheader"),d(E,"scope","col"),d(D,"role","columnheader"),d(D,"scope","col"),d(H,"role","columnheader"),d(H,"scope","col")},m(e,l){m(e,t,l),g(t,s),g(s,r),g(r,a),g(s,b),g(s,E),g(E,j),g(s,x),g(s,D),g(D,O),g(s,T),g(s,H),g(H,w),m(e,B,l),m(e,G,l);for(let e=0;e<A.length;e+=1)A[e].m(G,null);V=!0},p(e,t){if(2&t){let s;for(q=e[1],s=0;s<q.length;s+=1){const l=C(e,q,s);A[s]?(A[s].p(l,t),$(A[s],1)):(A[s]=z(l),A[s].c(),$(A[s],1),A[s].m(G,null))}for(y(),s=q.length;s<A.length;s+=1)k(s);v()}},i(e){if(!V){for(let e=0;e<q.length;e+=1)$(A[e]);V=!0}},o(e){A=A.filter(Boolean);for(let e=0;e<A.length;e+=1)p(A[e]);V=!1},d(e){e&&c(t),e&&c(B),e&&c(G),I(A,e)}}}function L(e){let t,s;return t=new V({props:{$$slots:{default:[J]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,l){w(t,e,l),s=!0},p(e,s){const l={};524290&s&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){s||($(t.$$.fragment,e),s=!0)},o(e){p(t.$$.fragment,e),s=!1},d(e){B(t,e)}}}function N(e){let t,s;return t=new q({props:{item:j.items[e[6]],scale:j.items[e[6]].craftable?2:3,quantity:e[7]}}),{c(){T(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,l){w(t,e,l),s=!0},p(e,s){const l={};4&s&&(l.item=j.items[e[6]]),4&s&&(l.scale=j.items[e[6]].craftable?2:3),4&s&&(l.quantity=e[7]),t.$set(l)},i(e){s||($(t.$$.fragment,e),s=!0)},o(e){p(t.$$.fragment,e),s=!1},d(e){B(t,e)}}}function P(e){let t,s,r,a,b,E=e[0].season[0].toUpperCase()+e[0].season.slice(1)+"",j=Object.entries(e[2]),x=[];for(let t=0;t<j.length;t+=1)x[t]=N(A(e,j,t));const D=e=>p(x[e],1,1,(()=>{x[e]=null}));return{c(){t=n("h6"),s=o(E),r=l(),a=n("div");for(let e=0;e<x.length;e+=1)x[e].c();this.h()},l(e){t=f(e,"H6",{class:!0});var l=h(t);s=u(l,E),l.forEach(c),r=i(e),a=f(e,"DIV",{class:!0});var n=h(a);for(let e=0;e<x.length;e+=1)x[e].l(n);n.forEach(c),this.h()},h(){d(t,"class","pb-2"),d(a,"class","seasonal-items")},m(e,l){m(e,t,l),g(t,s),m(e,r,l),m(e,a,l);for(let e=0;e<x.length;e+=1)x[e].m(a,null);b=!0},p(e,t){if((!b||1&t)&&E!==(E=e[0].season[0].toUpperCase()+e[0].season.slice(1)+"")&&G(s,E),4&t){let s;for(j=Object.entries(e[2]),s=0;s<j.length;s+=1){const l=A(e,j,s);x[s]?(x[s].p(l,t),$(x[s],1)):(x[s]=N(l),x[s].c(),$(x[s],1),x[s].m(a,null))}for(y(),s=j.length;s<x.length;s+=1)D(s);v()}},i(e){if(!b){for(let e=0;e<j.length;e+=1)$(x[e]);b=!0}},o(e){x=x.filter(Boolean);for(let e=0;e<x.length;e+=1)p(x[e]);b=!1},d(e){e&&c(t),e&&c(r),e&&c(a),I(x,e)}}}function Y(e){let t,s,b,E,j,x,D,O;const T=[S,R],H=[];function w(e,t){return null!==e[0]?0:1}return j=w(e),x=H[j]=T[j](e),{c(){t=l(),s=n("h4"),b=o("Dashboard"),E=l(),x.c(),D=r(),this.h()},l(e){a('[data-svelte="svelte-qmib3v"]',document.head).forEach(c),t=i(e),s=f(e,"H4",{class:!0});var l=h(s);b=u(l,"Dashboard"),l.forEach(c),E=i(e),x.l(e),D=r(),this.h()},h(){document.title="Dashboard | Stardew Completionist",d(s,"class","title svelte-7re0bb")},m(e,l){m(e,t,l),m(e,s,l),g(s,b),m(e,E,l),H[j].m(e,l),m(e,D,l),O=!0},p(e,[t]){let s=j;j=w(e),j===s?H[j].p(e,t):(y(),p(H[s],1,1,(()=>{H[s]=null})),v(),x=H[j],x?x.p(e,t):(x=H[j]=T[j](e),x.c()),$(x,1),x.m(D.parentNode,D))},i(e){O||($(x),O=!0)},o(e){p(x),O=!1},d(e){e&&c(t),e&&c(s),e&&c(E),H[j].d(e),e&&c(D)}}}function F(e,t,s){let l,n,o;b(e,x,(e=>s(0,l=e)));const r=E(x,((e,t)=>{null!==e&&t(Object.values(j.villagers).sort(((t,s)=>(t.birthDate-e.date+112)%112-(s.birthDate-e.date+112)%112)).map((t=>{var s,l,n,o;return{villager:t.name,date:t.birthday,hearts:null!==(l=null===(s=e.relationships[t.name])||void 0===s?void 0:s.hearts)&&void 0!==l?l:0,maxHearts:null!==(o=null===(n=e.relationships[t.name])||void 0===n?void 0:n.max)&&void 0!==o?o:t.datable?8:10,bestGifts:t.bestGifts}})))}));b(e,r,(e=>s(1,n=e)));const a=E(x,(e=>{var t,s,l,n,o,r,a,c;if(null===e)return null;{const i={},f={},h=e=>{var t,s;for(const[l,n]of Object.entries(e.ingredients)){const e=Object.values(j.recipes).find((e=>e.result.id===l));e&&(null!==(t=f[s=e.name])&&void 0!==t||(f[s]=0),f[e.name]+=n/e.amount,h(e))}},u=Object.values(j.recipes).filter((t=>!e.collected.includes(t.result.id)));for(const e of u)h(e);for(const e in f)f[e]=Math.ceil(f[e]);for(const e of u)null!==(t=f[a=e.name])&&void 0!==t||(f[a]=1);for(const[e,t]of Object.entries(f)){const l=j.recipes[e];for(const[e,n]of Object.entries(l.ingredients))Object.values(j.recipes).some((t=>t.result.id===e))||(null!==(s=i[e])&&void 0!==s||(i[e]=0),i[e]+=n*t)}for(const{id:t}of j.shipping)e.collected.includes(t)||(null!==(l=i[t])&&void 0!==l||(i[t]=0),i[t]+=1);for(const{id:t}of j.fish)e.collected.includes(t)||null!==(n=i[t])&&void 0!==n||(i[t]=1);for(const t of Object.values(j.bundles))for(const s in t.items){const l=t.items[s];e.bundles[t.id][s]||(null!==(o=i[c=l.id])&&void 0!==o||(i[c]=0),i[l.id]+=l.amount)}for(const t in i)i[t]-=null!==(r=e.items[t])&&void 0!==r?r:0,i[t]<=0&&delete i[t];return i}})),c=E(a,((e,t)=>{null!==e&&t(Object.fromEntries(Object.entries(e).filter((([e,t])=>{const s=j.items[e];return s&&void 0!==s.seasons&&s.seasons[l.season]&&Object.values(s.seasons).filter((e=>e)).length<3}))))}));return b(e,c,(e=>s(2,o=e))),[l,n,o,r,c]}export default class extends e{constructor(e){super(),t(this,e,F,Y,s,{})}}
