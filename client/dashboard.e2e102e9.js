import{g as t,S as e,i as s,s as n,a as r,e as l,t as o,y as a,q as c,d as $,b as i,f,h as m,j as u,l as d,m as h,n as g,r as p,A as v,p as b,v as x,w as y,z as w,x as j,aa as I,ab as O,c as D,k as B,o as E,u as C,C as H,B as G}from"./client.005398ff.js";import{D as V,H as S,B as q,R as k,C as A}from"./Cell.bd08d9d8.js";import{I as M}from"./ItemButton.88906dc3.js";function N(t,e,s){const n=t.slice();return n[7]=e[s][0],n[8]=e[s][1],n}function W(t,e,s){const n=t.slice();return n[14]=e[s],n}function z(t,e,s){const n=t.slice();return n[17]=e[s],n}function P(t,e,s){const n=t.slice();return n[11]=e[s],n}function R(t){let e,s;return{c(){e=l("p"),s=o("When you select a save file, this section shows information about what you\n    should do next."),this.h()},l(t){e=f(t,"P",{class:!0});var n=m(e);s=u(n,"When you select a save file, this section shows information about what you\n    should do next."),n.forEach($),this.h()},h(){d(e,"class","no-save svelte-1ho641m")},m(t,n){h(t,e,n),g(e,s)},p:I,i:I,o:I,d(t){t&&$(e)}}}function F(t){let e,s,n,a,c,x,y,j,I,S=O.get(t[1].currentSeason)+"";s=new V({props:{$$slots:{default:[lt]},$$scope:{ctx:t}}});let q=Object.entries(t[3]),k=[];for(let e=0;e<q.length;e+=1)k[e]=ot(N(t,q,e));const A=t=>p(k[t],1,1,(()=>{k[t]=null}));return{c(){e=l("div"),D(s.$$.fragment),n=r(),a=l("div"),c=l("h2"),x=o(S),y=r(),j=l("div");for(let t=0;t<k.length;t+=1)k[t].c();this.h()},l(t){e=f(t,"DIV",{class:!0});var r=m(e);B(s.$$.fragment,r),n=i(r),a=f(r,"DIV",{class:!0});var l=m(a);c=f(l,"H2",{class:!0});var o=m(c);x=u(o,S),o.forEach($),y=i(l),j=f(l,"DIV",{class:!0});var d=m(j);for(let t=0;t<k.length;t+=1)k[t].l(d);d.forEach($),l.forEach($),r.forEach($),this.h()},h(){d(c,"class","mdc-typography--headline6 svelte-1ho641m"),d(j,"class","seasonal-items svelte-1ho641m"),d(a,"class","mdc-card mdc-card--outlined seasonal svelte-1ho641m"),d(e,"class","container svelte-1ho641m")},m(t,r){h(t,e,r),E(s,e,null),g(e,n),g(e,a),g(a,c),g(c,x),g(a,y),g(a,j);for(let t=0;t<k.length;t+=1)k[t].m(j,null);I=!0},p(t,e){const n={};if(1048580&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n),(!I||2&e)&&S!==(S=O.get(t[1].currentSeason)+"")&&H(x,S),9&e){let s;for(q=Object.entries(t[3]),s=0;s<q.length;s+=1){const n=N(t,q,s);k[s]?(k[s].p(n,e),b(k[s],1)):(k[s]=ot(n),k[s].c(),b(k[s],1),k[s].m(j,null))}for(w(),s=q.length;s<k.length;s+=1)A(s);v()}},i(t){if(!I){b(s.$$.fragment,t);for(let t=0;t<q.length;t+=1)b(k[t]);I=!0}},o(t){p(s.$$.fragment,t),k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)p(k[t]);I=!1},d(t){t&&$(e),C(s),G(k,t)}}}function J(t){let e;return{c(){e=o("Villager")},l(t){e=u(t,"Villager")},m(t,s){h(t,e,s)},d(t){t&&$(e)}}}function K(t){let e;return{c(){e=o("Hearts")},l(t){e=u(t,"Hearts")},m(t,s){h(t,e,s)},d(t){t&&$(e)}}}function L(t){let e;return{c(){e=o("Birthday")},l(t){e=u(t,"Birthday")},m(t,s){h(t,e,s)},d(t){t&&$(e)}}}function Q(t){let e;return{c(){e=o("Best Gifts")},l(t){e=u(t,"Best Gifts")},m(t,s){h(t,e,s)},d(t){t&&$(e)}}}function T(t){let e,s,n,l,o,a,c,f;return e=new A({props:{$$slots:{default:[J]},$$scope:{ctx:t}}}),n=new A({props:{$$slots:{default:[K]},$$scope:{ctx:t}}}),o=new A({props:{$$slots:{default:[L]},$$scope:{ctx:t}}}),c=new A({props:{$$slots:{default:[Q]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment),s=r(),D(n.$$.fragment),l=r(),D(o.$$.fragment),a=r(),D(c.$$.fragment)},l(t){B(e.$$.fragment,t),s=i(t),B(n.$$.fragment,t),l=i(t),B(o.$$.fragment,t),a=i(t),B(c.$$.fragment,t)},m(t,r){E(e,t,r),h(t,s,r),E(n,t,r),h(t,l,r),E(o,t,r),h(t,a,r),E(c,t,r),f=!0},p(t,s){const r={};1048576&s&&(r.$$scope={dirty:s,ctx:t}),e.$set(r);const l={};1048576&s&&(l.$$scope={dirty:s,ctx:t}),n.$set(l);const a={};1048576&s&&(a.$$scope={dirty:s,ctx:t}),o.$set(a);const $={};1048576&s&&($.$$scope={dirty:s,ctx:t}),c.$set($)},i(t){f||(b(e.$$.fragment,t),b(n.$$.fragment,t),b(o.$$.fragment,t),b(c.$$.fragment,t),f=!0)},o(t){p(e.$$.fragment,t),p(n.$$.fragment,t),p(o.$$.fragment,t),p(c.$$.fragment,t),f=!1},d(t){C(e,t),t&&$(s),C(n,t),t&&$(l),C(o,t),t&&$(a),C(c,t)}}}function U(t){let e,s;return e=new k({props:{$$slots:{default:[T]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,s){const n={};1048576&s&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){p(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function X(t){let e,s=t[11].villager+"";return{c(){e=o(s)},l(t){e=u(t,s)},m(t,s){h(t,e,s)},p(t,n){4&n&&s!==(s=t[11].villager+"")&&H(e,s)},d(t){t&&$(e)}}}function Y(t){let e,s;return{c(){e=l("img"),this.h()},l(t){e=f(t,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){d(e,"alt","heart"),e.src!==(s="heart-"+(t[11].hearts>=t[17]+1?"filled":"outline")+".png")&&d(e,"src",s),d(e,"class","svelte-1ho641m")},m(t,s){h(t,e,s)},p(t,n){4&n&&e.src!==(s="heart-"+(t[11].hearts>=t[17]+1?"filled":"outline")+".png")&&d(e,"src",s)},d(t){t&&$(e)}}}function Z(t){let e,s=[...Array(t[11].maxHearts).keys()],n=[];for(let e=0;e<s.length;e+=1)n[e]=Y(z(t,s,e));return{c(){e=l("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=f(t,"DIV",{class:!0});var s=m(e);for(let t=0;t<n.length;t+=1)n[t].l(s);s.forEach($),this.h()},h(){d(e,"class","hearts svelte-1ho641m")},m(t,s){h(t,e,s);for(let t=0;t<n.length;t+=1)n[t].m(e,null)},p(t,r){if(4&r){let l;for(s=[...Array(t[11].maxHearts).keys()],l=0;l<s.length;l+=1){const o=z(t,s,l);n[l]?n[l].p(o,r):(n[l]=Y(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=s.length}},d(t){t&&$(e),G(n,t)}}}function _(t){let e,s=t[11].date+"";return{c(){e=o(s)},l(t){e=u(t,s)},m(t,s){h(t,e,s)},p(t,n){4&n&&s!==(s=t[11].date+"")&&H(e,s)},d(t){t&&$(e)}}}function tt(t){let e,s;return e=new M({props:{item:t[14],scale:t[14].isCraftable?1:2}}),{c(){D(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,s){const n={};4&s&&(n.item=t[14]),4&s&&(n.scale=t[14].isCraftable?1:2),e.$set(n)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){p(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function et(t){let e,s,n=t[11].bestGifts,r=[];for(let e=0;e<n.length;e+=1)r[e]=tt(W(t,n,e));const o=t=>p(r[t],1,1,(()=>{r[t]=null}));return{c(){e=l("div");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=f(t,"DIV",{class:!0});var s=m(e);for(let t=0;t<r.length;t+=1)r[t].l(s);s.forEach($),this.h()},h(){d(e,"class","best-gifts svelte-1ho641m")},m(t,n){h(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null);s=!0},p(t,s){if(4&s){let l;for(n=t[11].bestGifts,l=0;l<n.length;l+=1){const o=W(t,n,l);r[l]?(r[l].p(o,s),b(r[l],1)):(r[l]=tt(o),r[l].c(),b(r[l],1),r[l].m(e,null))}for(w(),l=n.length;l<r.length;l+=1)o(l);v()}},i(t){if(!s){for(let t=0;t<n.length;t+=1)b(r[t]);s=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)p(r[t]);s=!1},d(t){t&&$(e),G(r,t)}}}function st(t){let e,s,n,l,o,a,c,f,m;return e=new A({props:{$$slots:{default:[X]},$$scope:{ctx:t}}}),n=new A({props:{$$slots:{default:[Z]},$$scope:{ctx:t}}}),o=new A({props:{$$slots:{default:[_]},$$scope:{ctx:t}}}),c=new A({props:{$$slots:{default:[et]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment),s=r(),D(n.$$.fragment),l=r(),D(o.$$.fragment),a=r(),D(c.$$.fragment),f=r()},l(t){B(e.$$.fragment,t),s=i(t),B(n.$$.fragment,t),l=i(t),B(o.$$.fragment,t),a=i(t),B(c.$$.fragment,t),f=i(t)},m(t,r){E(e,t,r),h(t,s,r),E(n,t,r),h(t,l,r),E(o,t,r),h(t,a,r),E(c,t,r),h(t,f,r),m=!0},p(t,s){const r={};1048580&s&&(r.$$scope={dirty:s,ctx:t}),e.$set(r);const l={};1048580&s&&(l.$$scope={dirty:s,ctx:t}),n.$set(l);const a={};1048580&s&&(a.$$scope={dirty:s,ctx:t}),o.$set(a);const $={};1048580&s&&($.$$scope={dirty:s,ctx:t}),c.$set($)},i(t){m||(b(e.$$.fragment,t),b(n.$$.fragment,t),b(o.$$.fragment,t),b(c.$$.fragment,t),m=!0)},o(t){p(e.$$.fragment,t),p(n.$$.fragment,t),p(o.$$.fragment,t),p(c.$$.fragment,t),m=!1},d(t){C(e,t),t&&$(s),C(n,t),t&&$(l),C(o,t),t&&$(a),C(c,t),t&&$(f)}}}function nt(t){let e,s;return e=new k({props:{$$slots:{default:[st]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,s){const n={};1048580&s&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){p(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function rt(t){let e,s,n=t[2],r=[];for(let e=0;e<n.length;e+=1)r[e]=nt(P(t,n,e));const l=t=>p(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=a()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=a()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);h(t,e,n),s=!0},p(t,s){if(4&s){let o;for(n=t[2],o=0;o<n.length;o+=1){const l=P(t,n,o);r[o]?(r[o].p(l,s),b(r[o],1)):(r[o]=nt(l),r[o].c(),b(r[o],1),r[o].m(e.parentNode,e))}for(w(),o=n.length;o<r.length;o+=1)l(o);v()}},i(t){if(!s){for(let t=0;t<n.length;t+=1)b(r[t]);s=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)p(r[t]);s=!1},d(t){G(r,t),t&&$(e)}}}function lt(t){let e,s,n,l;return e=new S({props:{$$slots:{default:[U]},$$scope:{ctx:t}}}),n=new q({props:{$$slots:{default:[rt]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment),s=r(),D(n.$$.fragment)},l(t){B(e.$$.fragment,t),s=i(t),B(n.$$.fragment,t)},m(t,r){E(e,t,r),h(t,s,r),E(n,t,r),l=!0},p(t,s){const r={};1048576&s&&(r.$$scope={dirty:s,ctx:t}),e.$set(r);const l={};1048580&s&&(l.$$scope={dirty:s,ctx:t}),n.$set(l)},i(t){l||(b(e.$$.fragment,t),b(n.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),p(n.$$.fragment,t),l=!1},d(t){C(e,t),t&&$(s),C(n,t)}}}function ot(e){let s,n;return s=new M({props:{item:t.items[e[7]],scale:t.items[e[7]].isCraftable?2:3,quantity:e[8]}}),{c(){D(s.$$.fragment)},l(t){B(s.$$.fragment,t)},m(t,e){E(s,t,e),n=!0},p(e,n){const r={};9&n&&(r.item=t.items[e[7]]),9&n&&(r.scale=t.items[e[7]].isCraftable?2:3),8&n&&(r.quantity=e[8]),s.$set(r)},i(t){n||(b(s.$$.fragment,t),n=!0)},o(t){p(s.$$.fragment,t),n=!1},d(t){C(s,t)}}}function at(t){let e,s,n,x,y,j,I,O;const D=[F,R],B=[];function E(t,e){return null!==t[1]?0:1}return y=E(t),j=B[y]=D[y](t),{c(){e=r(),s=l("h1"),n=o("Dashboard"),x=r(),j.c(),I=a(),this.h()},l(t){c('[data-svelte="svelte-qmib3v"]',document.head).forEach($),e=i(t),s=f(t,"H1",{class:!0});var r=m(s);n=u(r,"Dashboard"),r.forEach($),x=i(t),j.l(t),I=a(),this.h()},h(){document.title="Dashboard | Stardew Completionist",d(s,"class","title mdc-typography--headline4 svelte-1ho641m")},m(t,r){h(t,e,r),h(t,s,r),g(s,n),h(t,x,r),B[y].m(t,r),h(t,I,r),O=!0},p(t,[e]){let s=y;y=E(t),y===s?B[y].p(t,e):(w(),p(B[s],1,1,(()=>{B[s]=null})),v(),j=B[y],j||(j=B[y]=D[y](t),j.c()),b(j,1),j.m(I.parentNode,I))},i(t){O||(b(j),O=!0)},o(t){p(j),O=!1},d(t){t&&$(e),t&&$(s),t&&$(x),B[y].d(t),t&&$(I)}}}async function ct(){return{gameInfo:await t.fetch(this.fetch)}}function $t(t,e,s){let n,r,l;x(t,j,(t=>s(1,n=t)));let{gameInfo:o}=e;const a=y(j,((t,e)=>{null!==t&&e(Object.values(o.villagers).sort(((e,s)=>(e.birthDate-t.currentDate+112)%112-(s.birthDate-t.currentDate+112)%112)).map((e=>{var s,n,r,l;return{villager:e.name,date:e.birthday,hearts:null!==(n=null===(s=t.relationships.get(e.name))||void 0===s?void 0:s.hearts)&&void 0!==n?n:0,maxHearts:null!==(l=null===(r=t.relationships.get(e.name))||void 0===r?void 0:r.maxHearts)&&void 0!==l?l:e.datable?8:10,bestGifts:e.bestGifts}})))}));x(t,a,(t=>s(2,r=t)));const c=y(j,(t=>{var e,s,n,r,l,a,c,$;if(null===t)return null;{const i={},f={},m=t=>{var e,s;for(const[n,r]of Object.entries(t.ingredients)){const t=Object.values(o.recipes).find((t=>t.result.id===n));t&&(null!==(e=f[s=t.name])&&void 0!==e||(f[s]=0),f[t.name]+=r/t.amount,m(t))}},u=Object.values(o.recipes).filter((e=>!t.collectedItems.includes(e.result.id)));for(const t of u)m(t);for(const t in f)f[t]=Math.ceil(f[t]);for(const t of u)null!==(e=f[c=t.name])&&void 0!==e||(f[c]=1);for(const[t,e]of Object.entries(f)){const n=o.recipes[t];for(const[t,r]of Object.entries(n.ingredients))Object.values(o.recipes).some((e=>e.result.id===t))||(null!==(s=i[t])&&void 0!==s||(i[t]=0),i[t]+=r*e)}for(const{id:e}of o.shipping)t.collectedItems.includes(e)||(null!==(n=i[e])&&void 0!==n||(i[e]=0),i[e]+=1);for(const{id:e}of o.fish)t.collectedItems.includes(e)||null!==(r=i[e])&&void 0!==r||(i[e]=1);for(const e of Object.values(o.bundles))for(const[s,n]of Object.entries(e.items))t.bundleCompletion.get(e.id)[s]||(null!==(l=i[$=n.id])&&void 0!==l||(i[$]=0),i[n.id]+=n.amount);for(const e in i)i[e]-=null!==(a=t.items[e])&&void 0!==a?a:0,i[e]<=0&&delete i[e];return i}})),$=y(c,((t,e)=>{null!==t&&e(Object.fromEntries(Object.entries(t).filter((([t,e])=>{const s=o.items[t];return s&&void 0!==s.seasons&&s.seasons.includes(["spring","summer","fall","winter"][n.currentSeason])&&Object.values(s.seasons).filter((t=>t)).length<3}))))}));return x(t,$,(t=>s(3,l=t))),t.$$set=t=>{"gameInfo"in t&&s(0,o=t.gameInfo)},[o,n,r,l,a,$]}export default class extends e{constructor(t){super(),s(this,t,$t,at,n,{gameInfo:0})}}export{ct as preload};
