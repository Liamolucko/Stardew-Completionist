import{_ as n,r as t,$ as r,E as e,a as o,b as i,c,d as a,i as l,e as u,S as f,s,C as h,h as v,f as m,o as p,k as d,w as g,u as $,y,z as b,A as w,j as E,g as j,q as x,l as I,m as R,p as S,N as k,v as O,x as T,L as A,B as C,D as H,F as B,a0 as D,t as L,n as U,H as q,K as N,J as z,a1 as M}from"./client.6fc602f4.js";import{I as P}from"./ItemButton.5dba1072.js";import{T as V}from"./Table.316f1e30.js";function F(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=i(n);if(t){var o=i(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return c(this,r)}}function J(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return K(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return c=n.done,n},e:function(n){a=!0,i=n},f:function(){try{c||null==r.return||r.return()}finally{if(a)throw i}}}}function K(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function Y(n,t,r){var e=n.slice();return e[7]=t[r][0],e[8]=t[r][1],e}function _(n,t,r){var e=n.slice();return e[11]=t[r],e}function G(n,t,r){var e=n.slice();return e[14]=t[r],e}function Q(n,t,r){var e=n.slice();return e[17]=t[r],e}function W(n){var t,r;return t=new P({props:{item:n[17],scale:n[17].isCraftable?2:3,shadow:!0,grey:null!==n[3]&&!n[3].collectedItems.includes(n[17].id)}}),{c:function(){v(t.$$.fragment)},l:function(n){p(t.$$.fragment,n)},m:function(n,e){g(t,n,e),r=!0},p:function(n,r){var e={};2&r&&(e.item=n[17]),2&r&&(e.scale=n[17].isCraftable?2:3),10&r&&(e.grey=null!==n[3]&&!n[3].collectedItems.includes(n[17].id)),t.$set(e)},i:function(n){r||(y(t.$$.fragment,n),r=!0)},o:function(n){b(t.$$.fragment,n),r=!1},d:function(n){w(t,n)}}}function X(n){for(var t,r,e,o,i,c=n[1],a=[],l=0;l<c.length;l+=1)a[l]=W(Q(n,c,l));var u=function(n){return b(a[n],1,1,(function(){a[n]=null}))};return{c:function(){t=j("h6"),r=L(n[0]),e=m(),o=j("div");for(var i=0;i<a.length;i+=1)a[i].c();this.h()},l:function(i){t=I(i,"H6",{});var c=R(t);r=U(c,n[0]),c.forEach(E),e=d(i),o=I(i,"DIV",{class:!0});for(var l=R(o),u=0;u<a.length;u+=1)a[u].l(l);l.forEach(E),this.h()},h:function(){S(o,"class","item-grid")},m:function(n,c){$(n,t,c),O(t,r),$(n,e,c),$(n,o,c);for(var l=0;l<a.length;l+=1)a[l].m(o,null);i=!0},p:function(n,t){if((!i||1&t)&&q(r,n[0]),10&t){var e;for(c=n[1],e=0;e<c.length;e+=1){var l=Q(n,c,e);a[e]?(a[e].p(l,t),y(a[e],1)):(a[e]=W(l),a[e].c(),y(a[e],1),a[e].m(o,null))}for(N(),e=c.length;e<a.length;e+=1)u(e);A()}},i:function(n){if(!i){for(var t=0;t<c.length;t+=1)y(a[t]);i=!0}},o:function(n){a=a.filter(Boolean);for(var t=0;t<a.length;t+=1)b(a[t]);i=!1},d:function(n){n&&E(t),n&&E(e),n&&E(o),z(a,n)}}}function Z(n){var t,r,e,o;return t=new h({props:{outlined:!0,style:"grid-area: r",$$slots:{default:[on]},$$scope:{ctx:n}}}),e=new h({props:{outlined:!0,class:"pa-4 ingredients",$$slots:{default:[an]},$$scope:{ctx:n}}}),{c:function(){v(t.$$.fragment),r=m(),v(e.$$.fragment)},l:function(n){p(t.$$.fragment,n),r=d(n),p(e.$$.fragment,n)},m:function(n,i){g(t,n,i),$(n,r,i),g(e,n,i),o=!0},p:function(n,r){var o={};1048588&r&&(o.$$scope={dirty:r,ctx:n}),t.$set(o);var i={};1048600&r&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i:function(n){o||(y(t.$$.fragment,n),y(e.$$.fragment,n),o=!0)},o:function(n){b(t.$$.fragment,n),b(e.$$.fragment,n),o=!1},d:function(n){w(t,n),n&&E(r),w(e,n)}}}function nn(n){for(var t,r=n[11].sources,e=[],o=0;o<r.length;o+=1)e[o]=tn(G(n,r,o));return{c:function(){t=j("ul");for(var n=0;n<e.length;n+=1)e[n].c();this.h()},l:function(n){t=I(n,"UL",{class:!0});for(var r=R(t),o=0;o<e.length;o+=1)e[o].l(r);r.forEach(E),this.h()},h:function(){S(t,"class","source-list svelte-ljlfap")},m:function(n,r){$(n,t,r);for(var o=0;o<e.length;o+=1)e[o].m(t,null)},p:function(n,o){if(12&o){var i;for(r=n[11].sources,i=0;i<r.length;i+=1){var c=G(n,r,i);e[i]?e[i].p(c,o):(e[i]=tn(c),e[i].c(),e[i].m(t,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=r.length}},d:function(n){n&&E(t),z(e,n)}}}function tn(n){var t,r,e=n[14]+"";return{c:function(){t=j("li"),r=L(e)},l:function(n){t=I(n,"LI",{});var o=R(t);r=U(o,e),o.forEach(E)},m:function(n,e){$(n,t,e),O(t,r)},p:function(n,t){12&t&&e!==(e=n[14]+"")&&q(r,e)},d:function(n){n&&E(t)}}}function rn(n){var t,r,e,o,i,c,a,l,u,f,s=n[11].name+"";e=new P({props:{item:n[11].result,scale:n[11].result.isCraftable?1:2}});var h=null!=n[11].sources&&nn(n);return{c:function(){t=j("tr"),r=j("th"),v(e.$$.fragment),o=m(),i=j("span"),c=L(s),a=m(),l=j("td"),h&&h.c(),u=m(),this.h()},l:function(n){t=I(n,"TR",{});var f=R(t);r=I(f,"TH",{scope:!0});var v=R(r);p(e.$$.fragment,v),o=d(v),i=I(v,"SPAN",{class:!0});var m=R(i);c=U(m,s),m.forEach(E),v.forEach(E),a=d(f),l=I(f,"TD",{});var g=R(l);h&&h.l(g),g.forEach(E),u=d(f),f.forEach(E),this.h()},h:function(){S(i,"class","pa-3"),S(r,"scope","row")},m:function(n,s){$(n,t,s),O(t,r),g(e,r,null),O(r,o),O(r,i),O(i,c),O(t,a),O(t,l),h&&h.m(l,null),O(t,u),f=!0},p:function(n,t){var r={};12&t&&(r.item=n[11].result),12&t&&(r.scale=n[11].result.isCraftable?1:2),e.$set(r),(!f||12&t)&&s!==(s=n[11].name+"")&&q(c,s),null!=n[11].sources?h?h.p(n,t):((h=nn(n)).c(),h.m(l,null)):h&&(h.d(1),h=null)},i:function(n){f||(y(e.$$.fragment,n),f=!0)},o:function(n){b(e.$$.fragment,n),f=!1},d:function(n){n&&E(t),w(e),h&&h.d()}}}function en(n){for(var t,r,e,o,i,c,a,l,u,f,s=n[2].filter(n[6]),h=[],v=0;v<s.length;v+=1)h[v]=rn(_(n,s,v));var p=function(n){return b(h[n],1,1,(function(){h[n]=null}))};return{c:function(){t=j("thead"),r=j("tr"),e=j("th"),o=L("Recipe"),i=m(),c=j("th"),a=L("Sources"),l=m(),u=j("tbody");for(var n=0;n<h.length;n+=1)h[n].c();this.h()},l:function(n){t=I(n,"THEAD",{});var f=R(t);r=I(f,"TR",{});var s=R(r);e=I(s,"TH",{role:!0,scope:!0});var v=R(e);o=U(v,"Recipe"),v.forEach(E),i=d(s),c=I(s,"TH",{role:!0,scope:!0});var m=R(c);a=U(m,"Sources"),m.forEach(E),s.forEach(E),f.forEach(E),l=d(n),u=I(n,"TBODY",{});for(var p=R(u),g=0;g<h.length;g+=1)h[g].l(p);p.forEach(E),this.h()},h:function(){S(e,"role","columnheader"),S(e,"scope","col"),S(c,"role","columnheader"),S(c,"scope","col")},m:function(n,s){$(n,t,s),O(t,r),O(r,e),O(e,o),O(r,i),O(r,c),O(c,a),$(n,l,s),$(n,u,s);for(var v=0;v<h.length;v+=1)h[v].m(u,null);f=!0},p:function(n,t){if(12&t){var r;for(s=n[2].filter(n[6]),r=0;r<s.length;r+=1){var e=_(n,s,r);h[r]?(h[r].p(e,t),y(h[r],1)):(h[r]=rn(e),h[r].c(),y(h[r],1),h[r].m(u,null))}for(N(),r=s.length;r<h.length;r+=1)p(r);A()}},i:function(n){if(!f){for(var t=0;t<s.length;t+=1)y(h[t]);f=!0}},o:function(n){h=h.filter(Boolean);for(var t=0;t<h.length;t+=1)b(h[t]);f=!1},d:function(n){n&&E(t),n&&E(l),n&&E(u),z(h,n)}}}function on(n){var t,r,e,o,i;return o=new V({props:{$$slots:{default:[en]},$$scope:{ctx:n}}}),{c:function(){t=j("h6"),r=L("Unknown Recipes"),e=m(),v(o.$$.fragment),this.h()},l:function(n){t=I(n,"H6",{class:!0});var i=R(t);r=U(i,"Unknown Recipes"),i.forEach(E),e=d(n),p(o.$$.fragment,n),this.h()},h:function(){S(t,"class","pl-4 pt-4 pr-4")},m:function(n,c){$(n,t,c),O(t,r),$(n,e,c),g(o,n,c),i=!0},p:function(n,t){var r={};1048588&t&&(r.$$scope={dirty:t,ctx:n}),o.$set(r)},i:function(n){i||(y(o.$$.fragment,n),i=!0)},o:function(n){b(o.$$.fragment,n),i=!1},d:function(n){n&&E(t),n&&E(e),w(o,n)}}}function cn(n){var t,r,o,i,c,a,l,u,f=(M.get(n[7])||e.items[n[7]].name)+"",s=(null!==(t=n[3].items[n[7]])&&void 0!==t?t:0)+"",h=n[8]+"";return{c:function(){r=j("li"),o=L(f),i=L(":\n            "),c=L(s),a=L("/"),l=L(h),u=m()},l:function(n){r=I(n,"LI",{});var t=R(r);o=U(t,f),i=U(t,":\n            "),c=U(t,s),a=U(t,"/"),l=U(t,h),u=d(t),t.forEach(E)},m:function(n,t){$(n,r,t),O(r,o),O(r,i),O(r,c),O(r,a),O(r,l),O(r,u)},p:function(n,t){var r;16&t&&f!==(f=(M.get(n[7])||e.items[n[7]].name)+"")&&q(o,f),24&t&&s!==(s=(null!==(r=n[3].items[n[7]])&&void 0!==r?r:0)+"")&&q(c,s),16&t&&h!==(h=n[8]+"")&&q(l,h)},d:function(n){n&&E(r)}}}function an(n){for(var t,r,e,o,i,c=Object.entries(null!==(t=n[4])&&void 0!==t?t:{}),a=[],l=0;l<c.length;l+=1)a[l]=cn(Y(n,c,l));return{c:function(){r=j("h6"),e=L("Required Ingredients"),o=m(),i=j("ul");for(var n=0;n<a.length;n+=1)a[n].c();this.h()},l:function(n){r=I(n,"H6",{});var t=R(r);e=U(t,"Required Ingredients"),t.forEach(E),o=d(n),i=I(n,"UL",{class:!0});for(var c=R(i),l=0;l<a.length;l+=1)a[l].l(c);c.forEach(E),this.h()},h:function(){S(i,"class","svelte-ljlfap")},m:function(n,t){$(n,r,t),O(r,e),$(n,o,t),$(n,i,t);for(var c=0;c<a.length;c+=1)a[c].m(i,null)},p:function(n,t){if(24&t){var r,e;for(c=Object.entries(null!==(r=n[4])&&void 0!==r?r:{}),e=0;e<c.length;e+=1){var o=Y(n,c,e);a[e]?a[e].p(o,t):(a[e]=cn(o),a[e].c(),a[e].m(i,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=c.length}},d:function(n){n&&E(r),n&&E(o),n&&E(i),z(a,n)}}}function ln(n){var t,r,e,o,i,c;document.title=t=n[0]+" | Stardew Completionist",o=new h({props:{outlined:!0,class:"pa-4 grid-card",$$slots:{default:[X]},$$scope:{ctx:n}}});var a=void 0!==n[2]&&null!==n[3]&&Z(n);return{c:function(){r=m(),e=j("div"),v(o.$$.fragment),i=m(),a&&a.c(),this.h()},l:function(n){x('[data-svelte="svelte-19v14rz"]',document.head).forEach(E),r=d(n),e=I(n,"DIV",{class:!0});var t=R(e);p(o.$$.fragment,t),i=d(t),a&&a.l(t),t.forEach(E),this.h()},h:function(){S(e,"class","container svelte-ljlfap"),k(e,"has-unknown-recipes",void 0!==n[2]&&null!==n[3])},m:function(n,t){$(n,r,t),$(n,e,t),g(o,e,null),O(e,i),a&&a.m(e,null),c=!0},p:function(n,r){var i=T(r,1)[0];(!c||1&i)&&t!==(t=n[0]+" | Stardew Completionist")&&(document.title=t);var l={};1048587&i&&(l.$$scope={dirty:i,ctx:n}),o.$set(l),void 0!==n[2]&&null!==n[3]?a?(a.p(n,i),12&i&&y(a,1)):((a=Z(n)).c(),y(a,1),a.m(e,null)):a&&(N(),b(a,1,1,(function(){a=null})),A()),12&i&&k(e,"has-unknown-recipes",void 0!==n[2]&&null!==n[3])},i:function(n){c||(y(o.$$.fragment,n),y(a),c=!0)},o:function(n){b(o.$$.fragment,n),b(a),c=!1},d:function(n){n&&E(r),n&&E(e),w(o),a&&a.d()}}}function un(n){return fn.apply(this,arguments)}function fn(){return(fn=n(t.mark((function n(o){return t.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(["shipping","fish","artifacts","minerals","cooking","crafting"].includes(o.params.collection)){n.next=2;break}return n.abrupt("return",this.error(404,"Not found"));case 2:if("cooking"!==o.params.collection&&"crafting"!==o.params.collection){n.next=6;break}return n.abrupt("return",{title:r.get(o.params.collection),recipes:e[o.params.collection],items:e[o.params.collection].map((function(n){return n.result}))});case 6:return n.abrupt("return",{title:r.get(o.params.collection),items:e[o.params.collection],recipes:void 0});case 7:case"end":return n.stop()}}),n,this)})))).apply(this,arguments)}function sn(n,t,r){var o,i;C(n,B,(function(n){return r(3,o=n)}));var c=t.title,a=t.items,l=t.recipes,u=H([B,D().page],(function(n){var t,r,o,i=T(n,1)[0];if(l&&null!==i){var c,a={},u=function n(t){for(var r,o,i=function(){var t=T(l[c],2),i=t[0],u=t[1],f=Object.values(e.recipes).find((function(n){return n.result.id===i}));f&&(null!==(r=a[o=f.name])&&void 0!==r||(a[o]=0),a[f.name]+=u/f.amount,n(f))},c=0,l=Object.entries(t.ingredients);c<l.length;c++)i()},f=l.filter((function(n){return!i.collectedItems.includes(n.result.id)})),s=J(f);try{for(s.s();!(c=s.n()).done;){u(c.value)}}catch(n){s.e(n)}finally{s.f()}for(var h in a)a[h]=Math.ceil(a[h]);var v,m=J(f);try{for(m.s();!(v=m.n()).done;){var p=v.value;null!==(t=a[o=p.name])&&void 0!==t||(a[o]=1)}}catch(n){m.e(n)}finally{m.f()}for(var d={},g=0,$=Object.entries(a);g<$.length;g++)for(var y=T($[g],2),b=y[0],w=y[1],E=e.recipes[b],j=function(){var n=T(I[x],2),t=n[0],o=n[1];if(Object.values(e.recipes).some((function(n){return n.result.id===t})))return"continue";null!==(r=d[t])&&void 0!==r||(d[t]=0),d[t]+=o*w},x=0,I=Object.entries(E.ingredients);x<I.length;x++)j();return d}return null}));C(n,u,(function(n){return r(4,i=n)}));return n.$$set=function(n){"title"in n&&r(0,c=n.title),"items"in n&&r(1,a=n.items),"recipes"in n&&r(2,l=n.recipes)},[c,a,l,o,i,u,function(n){return!o.knownRecipes.includes(n.name)}]}var hn=function(n){o(r,f);var t=F(r);function r(n){var e;return a(this,r),e=t.call(this),l(u(e),n,sn,ln,s,{title:0,items:1,recipes:2}),e}return r}();export default hn;export{un as preload};
