import{_ as n,r as t,Z as r,E as e,a as o,b as c,c as i,d as a,i as l,e as u,S as f,s,C as h,h as v,f as p,o as m,k as d,w as g,u as $,y,z as b,A as w,j as E,g as j,q as x,l as R,m as S,p as I,N as O,v as T,x as k,L as A,B as H,D as B,F as D,$ as L,t as U,n as C,H as q,K as N,J as z,a0 as M}from"./client.d7167177.js";import{I as P}from"./ItemButton.1fc50432.js";import{T as V}from"./Table.64d02363.js";function F(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=c(n);if(t){var o=c(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return i(this,r)}}function J(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return K(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,a=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){a=!0,c=n},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw c}}}}function K(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function Y(n,t,r){var e=n.slice();return e[7]=t[r][0],e[8]=t[r][1],e}function Z(n,t,r){var e=n.slice();return e[11]=t[r],e}function _(n,t,r){var e=n.slice();return e[14]=t[r],e}function G(n,t,r){var e=n.slice();return e[17]=t[r],e}function Q(n){var t,r;return t=new P({props:{item:n[17],scale:n[17].craftable?2:3,shadow:!0,grey:null!==n[3]&&!n[3].collected.includes(n[17].id)}}),{c:function(){v(t.$$.fragment)},l:function(n){m(t.$$.fragment,n)},m:function(n,e){g(t,n,e),r=!0},p:function(n,r){var e={};2&r&&(e.item=n[17]),2&r&&(e.scale=n[17].craftable?2:3),10&r&&(e.grey=null!==n[3]&&!n[3].collected.includes(n[17].id)),t.$set(e)},i:function(n){r||(y(t.$$.fragment,n),r=!0)},o:function(n){b(t.$$.fragment,n),r=!1},d:function(n){w(t,n)}}}function W(n){for(var t,r,e,o,c,i=n[1],a=[],l=0;l<i.length;l+=1)a[l]=Q(G(n,i,l));var u=function(n){return b(a[n],1,1,(function(){a[n]=null}))};return{c:function(){t=j("h6"),r=U(n[0]),e=p(),o=j("div");for(var c=0;c<a.length;c+=1)a[c].c();this.h()},l:function(c){t=R(c,"H6",{});var i=S(t);r=C(i,n[0]),i.forEach(E),e=d(c),o=R(c,"DIV",{class:!0});for(var l=S(o),u=0;u<a.length;u+=1)a[u].l(l);l.forEach(E),this.h()},h:function(){I(o,"class","item-grid")},m:function(n,i){$(n,t,i),T(t,r),$(n,e,i),$(n,o,i);for(var l=0;l<a.length;l+=1)a[l].m(o,null);c=!0},p:function(n,t){if((!c||1&t)&&q(r,n[0]),10&t){var e;for(i=n[1],e=0;e<i.length;e+=1){var l=G(n,i,e);a[e]?(a[e].p(l,t),y(a[e],1)):(a[e]=Q(l),a[e].c(),y(a[e],1),a[e].m(o,null))}for(N(),e=i.length;e<a.length;e+=1)u(e);A()}},i:function(n){if(!c){for(var t=0;t<i.length;t+=1)y(a[t]);c=!0}},o:function(n){a=a.filter(Boolean);for(var t=0;t<a.length;t+=1)b(a[t]);c=!1},d:function(n){n&&E(t),n&&E(e),n&&E(o),z(a,n)}}}function X(n){var t,r,e,o;return t=new h({props:{outlined:!0,style:"grid-area: r",$$slots:{default:[on]},$$scope:{ctx:n}}}),e=new h({props:{outlined:!0,class:"pa-4 ingredients",$$slots:{default:[an]},$$scope:{ctx:n}}}),{c:function(){v(t.$$.fragment),r=p(),v(e.$$.fragment)},l:function(n){m(t.$$.fragment,n),r=d(n),m(e.$$.fragment,n)},m:function(n,c){g(t,n,c),$(n,r,c),g(e,n,c),o=!0},p:function(n,r){var o={};1048588&r&&(o.$$scope={dirty:r,ctx:n}),t.$set(o);var c={};1048600&r&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i:function(n){o||(y(t.$$.fragment,n),y(e.$$.fragment,n),o=!0)},o:function(n){b(t.$$.fragment,n),b(e.$$.fragment,n),o=!1},d:function(n){w(t,n),n&&E(r),w(e,n)}}}function nn(n){for(var t,r=n[11].sources,e=[],o=0;o<r.length;o+=1)e[o]=tn(_(n,r,o));return{c:function(){t=j("ul");for(var n=0;n<e.length;n+=1)e[n].c();this.h()},l:function(n){t=R(n,"UL",{class:!0});for(var r=S(t),o=0;o<e.length;o+=1)e[o].l(r);r.forEach(E),this.h()},h:function(){I(t,"class","source-list svelte-ljlfap")},m:function(n,r){$(n,t,r);for(var o=0;o<e.length;o+=1)e[o].m(t,null)},p:function(n,o){if(12&o){var c;for(r=n[11].sources,c=0;c<r.length;c+=1){var i=_(n,r,c);e[c]?e[c].p(i,o):(e[c]=tn(i),e[c].c(),e[c].m(t,null))}for(;c<e.length;c+=1)e[c].d(1);e.length=r.length}},d:function(n){n&&E(t),z(e,n)}}}function tn(n){var t,r,e=n[14]+"";return{c:function(){t=j("li"),r=U(e)},l:function(n){t=R(n,"LI",{});var o=S(t);r=C(o,e),o.forEach(E)},m:function(n,e){$(n,t,e),T(t,r)},p:function(n,t){12&t&&e!==(e=n[14]+"")&&q(r,e)},d:function(n){n&&E(t)}}}function rn(n){var t,r,e,o,c,i,a,l,u,f,s=n[11].name+"";e=new P({props:{item:n[11].result,scale:n[11].result.craftable?1:2}});var h=null!=n[11].sources&&nn(n);return{c:function(){t=j("tr"),r=j("th"),v(e.$$.fragment),o=p(),c=j("span"),i=U(s),a=p(),l=j("td"),h&&h.c(),u=p(),this.h()},l:function(n){t=R(n,"TR",{});var f=S(t);r=R(f,"TH",{scope:!0});var v=S(r);m(e.$$.fragment,v),o=d(v),c=R(v,"SPAN",{class:!0});var p=S(c);i=C(p,s),p.forEach(E),v.forEach(E),a=d(f),l=R(f,"TD",{});var g=S(l);h&&h.l(g),g.forEach(E),u=d(f),f.forEach(E),this.h()},h:function(){I(c,"class","pa-3"),I(r,"scope","row")},m:function(n,s){$(n,t,s),T(t,r),g(e,r,null),T(r,o),T(r,c),T(c,i),T(t,a),T(t,l),h&&h.m(l,null),T(t,u),f=!0},p:function(n,t){var r={};12&t&&(r.item=n[11].result),12&t&&(r.scale=n[11].result.craftable?1:2),e.$set(r),(!f||12&t)&&s!==(s=n[11].name+"")&&q(i,s),null!=n[11].sources?h?h.p(n,t):((h=nn(n)).c(),h.m(l,null)):h&&(h.d(1),h=null)},i:function(n){f||(y(e.$$.fragment,n),f=!0)},o:function(n){b(e.$$.fragment,n),f=!1},d:function(n){n&&E(t),w(e),h&&h.d()}}}function en(n){for(var t,r,e,o,c,i,a,l,u,f,s=n[2].filter(n[6]),h=[],v=0;v<s.length;v+=1)h[v]=rn(Z(n,s,v));var m=function(n){return b(h[n],1,1,(function(){h[n]=null}))};return{c:function(){t=j("thead"),r=j("tr"),e=j("th"),o=U("Recipe"),c=p(),i=j("th"),a=U("Sources"),l=p(),u=j("tbody");for(var n=0;n<h.length;n+=1)h[n].c();this.h()},l:function(n){t=R(n,"THEAD",{});var f=S(t);r=R(f,"TR",{});var s=S(r);e=R(s,"TH",{role:!0,scope:!0});var v=S(e);o=C(v,"Recipe"),v.forEach(E),c=d(s),i=R(s,"TH",{role:!0,scope:!0});var p=S(i);a=C(p,"Sources"),p.forEach(E),s.forEach(E),f.forEach(E),l=d(n),u=R(n,"TBODY",{});for(var m=S(u),g=0;g<h.length;g+=1)h[g].l(m);m.forEach(E),this.h()},h:function(){I(e,"role","columnheader"),I(e,"scope","col"),I(i,"role","columnheader"),I(i,"scope","col")},m:function(n,s){$(n,t,s),T(t,r),T(r,e),T(e,o),T(r,c),T(r,i),T(i,a),$(n,l,s),$(n,u,s);for(var v=0;v<h.length;v+=1)h[v].m(u,null);f=!0},p:function(n,t){if(12&t){var r;for(s=n[2].filter(n[6]),r=0;r<s.length;r+=1){var e=Z(n,s,r);h[r]?(h[r].p(e,t),y(h[r],1)):(h[r]=rn(e),h[r].c(),y(h[r],1),h[r].m(u,null))}for(N(),r=s.length;r<h.length;r+=1)m(r);A()}},i:function(n){if(!f){for(var t=0;t<s.length;t+=1)y(h[t]);f=!0}},o:function(n){h=h.filter(Boolean);for(var t=0;t<h.length;t+=1)b(h[t]);f=!1},d:function(n){n&&E(t),n&&E(l),n&&E(u),z(h,n)}}}function on(n){var t,r,e,o,c;return o=new V({props:{$$slots:{default:[en]},$$scope:{ctx:n}}}),{c:function(){t=j("h6"),r=U("Unknown Recipes"),e=p(),v(o.$$.fragment),this.h()},l:function(n){t=R(n,"H6",{class:!0});var c=S(t);r=C(c,"Unknown Recipes"),c.forEach(E),e=d(n),m(o.$$.fragment,n),this.h()},h:function(){I(t,"class","pl-4 pt-4 pr-4")},m:function(n,i){$(n,t,i),T(t,r),$(n,e,i),g(o,n,i),c=!0},p:function(n,t){var r={};1048588&t&&(r.$$scope={dirty:t,ctx:n}),o.$set(r)},i:function(n){c||(y(o.$$.fragment,n),c=!0)},o:function(n){b(o.$$.fragment,n),c=!1},d:function(n){n&&E(t),n&&E(e),w(o,n)}}}function cn(n){var t,r,o,c,i,a,l,u,f=(M.get(n[7])||e.items[n[7]].name)+"",s=(null!==(t=n[3].items[n[7]])&&void 0!==t?t:0)+"",h=n[8]+"";return{c:function(){r=j("li"),o=U(f),c=U(":\n            "),i=U(s),a=U("/"),l=U(h),u=p()},l:function(n){r=R(n,"LI",{});var t=S(r);o=C(t,f),c=C(t,":\n            "),i=C(t,s),a=C(t,"/"),l=C(t,h),u=d(t),t.forEach(E)},m:function(n,t){$(n,r,t),T(r,o),T(r,c),T(r,i),T(r,a),T(r,l),T(r,u)},p:function(n,t){var r;16&t&&f!==(f=(M.get(n[7])||e.items[n[7]].name)+"")&&q(o,f),24&t&&s!==(s=(null!==(r=n[3].items[n[7]])&&void 0!==r?r:0)+"")&&q(i,s),16&t&&h!==(h=n[8]+"")&&q(l,h)},d:function(n){n&&E(r)}}}function an(n){for(var t,r,e,o,c,i=Object.entries(null!==(t=n[4])&&void 0!==t?t:{}),a=[],l=0;l<i.length;l+=1)a[l]=cn(Y(n,i,l));return{c:function(){r=j("h6"),e=U("Required Ingredients"),o=p(),c=j("ul");for(var n=0;n<a.length;n+=1)a[n].c();this.h()},l:function(n){r=R(n,"H6",{});var t=S(r);e=C(t,"Required Ingredients"),t.forEach(E),o=d(n),c=R(n,"UL",{class:!0});for(var i=S(c),l=0;l<a.length;l+=1)a[l].l(i);i.forEach(E),this.h()},h:function(){I(c,"class","svelte-ljlfap")},m:function(n,t){$(n,r,t),T(r,e),$(n,o,t),$(n,c,t);for(var i=0;i<a.length;i+=1)a[i].m(c,null)},p:function(n,t){if(24&t){var r,e;for(i=Object.entries(null!==(r=n[4])&&void 0!==r?r:{}),e=0;e<i.length;e+=1){var o=Y(n,i,e);a[e]?a[e].p(o,t):(a[e]=cn(o),a[e].c(),a[e].m(c,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=i.length}},d:function(n){n&&E(r),n&&E(o),n&&E(c),z(a,n)}}}function ln(n){var t,r,e,o,c,i;document.title=t=n[0]+" | Stardew Completionist",o=new h({props:{outlined:!0,class:"pa-4 grid-card",$$slots:{default:[W]},$$scope:{ctx:n}}});var a=void 0!==n[2]&&null!==n[3]&&X(n);return{c:function(){r=p(),e=j("div"),v(o.$$.fragment),c=p(),a&&a.c(),this.h()},l:function(n){x('[data-svelte="svelte-19v14rz"]',document.head).forEach(E),r=d(n),e=R(n,"DIV",{class:!0});var t=S(e);m(o.$$.fragment,t),c=d(t),a&&a.l(t),t.forEach(E),this.h()},h:function(){I(e,"class","container svelte-ljlfap"),O(e,"has-unknown-recipes",void 0!==n[2]&&null!==n[3])},m:function(n,t){$(n,r,t),$(n,e,t),g(o,e,null),T(e,c),a&&a.m(e,null),i=!0},p:function(n,r){var c=k(r,1)[0];(!i||1&c)&&t!==(t=n[0]+" | Stardew Completionist")&&(document.title=t);var l={};1048587&c&&(l.$$scope={dirty:c,ctx:n}),o.$set(l),void 0!==n[2]&&null!==n[3]?a?(a.p(n,c),12&c&&y(a,1)):((a=X(n)).c(),y(a,1),a.m(e,null)):a&&(N(),b(a,1,1,(function(){a=null})),A()),12&c&&O(e,"has-unknown-recipes",void 0!==n[2]&&null!==n[3])},i:function(n){i||(y(o.$$.fragment,n),y(a),i=!0)},o:function(n){b(o.$$.fragment,n),b(a),i=!1},d:function(n){n&&E(r),n&&E(e),w(o),a&&a.d()}}}function un(n){return fn.apply(this,arguments)}function fn(){return(fn=n(t.mark((function n(o){return t.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(["shipping","fish","artifacts","minerals","cooking","crafting"].includes(o.params.collection)){n.next=2;break}return n.abrupt("return",this.error(404,"Not found"));case 2:if("cooking"!==o.params.collection&&"crafting"!==o.params.collection){n.next=6;break}return n.abrupt("return",{title:r.get(o.params.collection),recipes:e[o.params.collection],items:e[o.params.collection].map((function(n){return n.result}))});case 6:return n.abrupt("return",{title:r.get(o.params.collection),items:e[o.params.collection],recipes:void 0});case 7:case"end":return n.stop()}}),n,this)})))).apply(this,arguments)}function sn(n,t,r){var o,c;H(n,D,(function(n){return r(3,o=n)}));var i=t.title,a=t.items,l=t.recipes,u=B([D,L().page],(function(n){var t,r,o,c=k(n,1)[0];if(l&&null!==c){var i,a={},u=function n(t){for(var r,o,c=function(){var t=k(l[i],2),c=t[0],u=t[1],f=Object.values(e.recipes).find((function(n){return n.result.id===c}));f&&(null!==(r=a[o=f.name])&&void 0!==r||(a[o]=0),a[f.name]+=u/f.amount,n(f))},i=0,l=Object.entries(t.ingredients);i<l.length;i++)c()},f=l.filter((function(n){return!c.collected.includes(n.result.id)})),s=J(f);try{for(s.s();!(i=s.n()).done;){u(i.value)}}catch(n){s.e(n)}finally{s.f()}for(var h in a)a[h]=Math.ceil(a[h]);var v,p=J(f);try{for(p.s();!(v=p.n()).done;){var m=v.value;null!==(t=a[o=m.name])&&void 0!==t||(a[o]=1)}}catch(n){p.e(n)}finally{p.f()}for(var d={},g=0,$=Object.entries(a);g<$.length;g++)for(var y=k($[g],2),b=y[0],w=y[1],E=e.recipes[b],j=function(){var n=k(R[x],2),t=n[0],o=n[1];if(Object.values(e.recipes).some((function(n){return n.result.id===t})))return"continue";null!==(r=d[t])&&void 0!==r||(d[t]=0),d[t]+=o*w},x=0,R=Object.entries(E.ingredients);x<R.length;x++)j();return d}return null}));H(n,u,(function(n){return r(4,c=n)}));return n.$$set=function(n){"title"in n&&r(0,i=n.title),"items"in n&&r(1,a=n.items),"recipes"in n&&r(2,l=n.recipes)},[i,a,l,o,c,u,function(n){return!o.recipes.includes(n.name)}]}var hn=function(n){o(r,f);var t=F(r);function r(n){var e;return a(this,r),e=t.call(this),l(u(e),n,sn,ln,s,{title:0,items:1,recipes:2}),e}return r}();export default hn;export{un as preload};
