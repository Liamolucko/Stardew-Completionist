import{S as t,i as e,s as l,C as r,a as s,e as a,t as n,c as o,q as c,d as h,b as f,f as i,g as m,h as u,j as d,k as g,l as p,m as $,n as v,o as E,p as b,r as T,u as x,v as y,w as B,x as H,y as D,z as w,A as j,B as z}from"./client.d70c2fd9.js";import{T as G}from"./Table.d22536db.js";import{I}from"./ItemButton.44f2791c.js";function A(t,e,l){const r=t.slice();return r[3]=e[l],r}function V(t,e,l){const r=t.slice();return r[6]=e[l],r}function k(t,e,l){const r=t.slice();return r[9]=e[l],r}function F(t){let e,l;return{c(){e=a("th"),l=n("Hearts"),this.h()},l(t){e=i(t,"TH",{role:!0,scope:!0});var r=m(e);l=u(r,"Hearts"),r.forEach(h),this.h()},h(){g(e,"role","columnheader"),g(e,"scope","col")},m(t,r){p(t,e,r),$(e,l)},d(t){t&&h(e)}}}function C(t){let e,l,r=[...Array(t[3].max).keys()],s=[];for(let e=0;e<r.length;e+=1)s[e]=O(k(t,r,e));return{c(){e=a("td"),l=a("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=i(t,"TD",{});var r=m(e);l=i(r,"DIV",{class:!0});var a=m(l);for(let t=0;t<s.length;t+=1)s[t].l(a);a.forEach(h),r.forEach(h),this.h()},h(){g(l,"class","hearts svelte-19t6z6t")},m(t,r){p(t,e,r),$(e,l);for(let t=0;t<s.length;t+=1)s[t].m(l,null)},p(t,e){if(2&e){let a;for(r=[...Array(t[3].max).keys()],a=0;a<r.length;a+=1){const n=k(t,r,a);s[a]?s[a].p(n,e):(s[a]=O(n),s[a].c(),s[a].m(l,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}},d(t){t&&h(e),w(s,t)}}}function O(t){let e,l;return{c(){e=a("img"),this.h()},l(t){e=i(t,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){g(e,"alt","heart"),e.src!==(l="./images/heart-"+(t[3].hearts>=t[9]+1?"filled":"outline")+".png")&&g(e,"src",l),g(e,"class","svelte-19t6z6t")},m(t,l){p(t,e,l)},p(t,r){2&r&&e.src!==(l="./images/heart-"+(t[3].hearts>=t[9]+1?"filled":"outline")+".png")&&g(e,"src",l)},d(t){t&&h(e)}}}function R(t){let e,l;return e=new I({props:{item:t[6],scale:t[6].craftable?1:2}}),{c(){o(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,r){v(e,t,r),l=!0},p(t,l){const r={};2&l&&(r.item=t[6]),2&l&&(r.scale=t[6].craftable?1:2),e.$set(r)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){T(e,t)}}}function S(t){let e,l,r,o,c,d,v,T,x,y,B,H,G=t[3].name+"",I=t[3].birthday+"",A=null!==t[0]&&C(t),k=t[3].bestGifts,F=[];for(let e=0;e<k.length;e+=1)F[e]=R(V(t,k,e));const O=t=>b(F[t],1,1,(()=>{F[t]=null}));return{c(){e=a("tr"),l=a("th"),r=n(G),o=s(),A&&A.c(),c=s(),d=a("td"),v=n(I),T=s(),x=a("td"),y=a("div");for(let t=0;t<F.length;t+=1)F[t].c();B=s(),this.h()},l(t){e=i(t,"TR",{});var s=m(e);l=i(s,"TH",{scope:!0});var a=m(l);r=u(a,G),a.forEach(h),o=f(s),A&&A.l(s),c=f(s),d=i(s,"TD",{});var n=m(d);v=u(n,I),n.forEach(h),T=f(s),x=i(s,"TD",{});var g=m(x);y=i(g,"DIV",{class:!0});var p=m(y);for(let t=0;t<F.length;t+=1)F[t].l(p);p.forEach(h),g.forEach(h),B=f(s),s.forEach(h),this.h()},h(){g(l,"scope","row"),g(y,"class","best-gifts svelte-19t6z6t")},m(t,s){p(t,e,s),$(e,l),$(l,r),$(e,o),A&&A.m(e,null),$(e,c),$(e,d),$(d,v),$(e,T),$(e,x),$(x,y);for(let t=0;t<F.length;t+=1)F[t].m(y,null);$(e,B),H=!0},p(t,l){if((!H||2&l)&&G!==(G=t[3].name+"")&&D(r,G),null!==t[0]?A?A.p(t,l):(A=C(t),A.c(),A.m(e,c)):A&&(A.d(1),A=null),(!H||2&l)&&I!==(I=t[3].birthday+"")&&D(v,I),2&l){let e;for(k=t[3].bestGifts,e=0;e<k.length;e+=1){const r=V(t,k,e);F[e]?(F[e].p(r,l),E(F[e],1)):(F[e]=R(r),F[e].c(),E(F[e],1),F[e].m(y,null))}for(j(),e=k.length;e<F.length;e+=1)O(e);z()}},i(t){if(!H){for(let t=0;t<k.length;t+=1)E(F[t]);H=!0}},o(t){F=F.filter(Boolean);for(let t=0;t<F.length;t+=1)b(F[t]);H=!1},d(t){t&&h(e),A&&A.d(),w(F,t)}}}function q(t){let e,l,r,o,c,d,v,T,x,y,B,H,D,G,I=null!==t[0]&&F(),V=t[1].filter(J),k=[];for(let e=0;e<V.length;e+=1)k[e]=S(A(t,V,e));const C=t=>b(k[t],1,1,(()=>{k[t]=null}));return{c(){e=a("thead"),l=a("tr"),r=a("th"),o=n("Villager"),c=s(),I&&I.c(),d=s(),v=a("th"),T=n("Birthday"),x=s(),y=a("th"),B=n("Best Gifts"),H=s(),D=a("tbody");for(let t=0;t<k.length;t+=1)k[t].c();this.h()},l(t){e=i(t,"THEAD",{});var s=m(e);l=i(s,"TR",{});var a=m(l);r=i(a,"TH",{role:!0,scope:!0});var n=m(r);o=u(n,"Villager"),n.forEach(h),c=f(a),I&&I.l(a),d=f(a),v=i(a,"TH",{role:!0,scope:!0});var g=m(v);T=u(g,"Birthday"),g.forEach(h),x=f(a),y=i(a,"TH",{role:!0,scope:!0});var p=m(y);B=u(p,"Best Gifts"),p.forEach(h),a.forEach(h),s.forEach(h),H=f(t),D=i(t,"TBODY",{});var $=m(D);for(let t=0;t<k.length;t+=1)k[t].l($);$.forEach(h),this.h()},h(){g(r,"role","columnheader"),g(r,"scope","col"),g(v,"role","columnheader"),g(v,"scope","col"),g(y,"role","columnheader"),g(y,"scope","col")},m(t,s){p(t,e,s),$(e,l),$(l,r),$(r,o),$(l,c),I&&I.m(l,null),$(l,d),$(l,v),$(v,T),$(l,x),$(l,y),$(y,B),p(t,H,s),p(t,D,s);for(let t=0;t<k.length;t+=1)k[t].m(D,null);G=!0},p(t,e){if(null!==t[0]?I||(I=F(),I.c(),I.m(l,d)):I&&(I.d(1),I=null),3&e){let l;for(V=t[1].filter(J),l=0;l<V.length;l+=1){const r=A(t,V,l);k[l]?(k[l].p(r,e),E(k[l],1)):(k[l]=S(r),k[l].c(),E(k[l],1),k[l].m(D,null))}for(j(),l=V.length;l<k.length;l+=1)C(l);z()}},i(t){if(!G){for(let t=0;t<V.length;t+=1)E(k[t]);G=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)b(k[t]);G=!1},d(t){t&&h(e),I&&I.d(),t&&h(H),t&&h(D),w(k,t)}}}function M(t){let e,l;return e=new G({props:{$$slots:{default:[q]},$$scope:{ctx:t}}}),{c(){o(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,r){v(e,t,r),l=!0},p(t,l){const r={};4099&l&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){T(e,t)}}}function Y(t){let e,l,x,y,B,H;return B=new r({props:{outlined:!0,class:"ml-6 mb-6 mr-6",$$slots:{default:[M]},$$scope:{ctx:t}}}),{c(){e=s(),l=a("h4"),x=n("Friendship"),y=s(),o(B.$$.fragment),this.h()},l(t){c('[data-svelte="svelte-17bgxrt"]',document.head).forEach(h),e=f(t),l=i(t,"H4",{class:!0});var r=m(l);x=u(r,"Friendship"),r.forEach(h),y=f(t),d(B.$$.fragment,t),this.h()},h(){document.title="Friendship | Stardew Completionist",g(l,"class","svelte-19t6z6t")},m(t,r){p(t,e,r),p(t,l,r),$(l,x),p(t,y,r),v(B,t,r),H=!0},p(t,[e]){const l={};4099&e&&(l.$$scope={dirty:e,ctx:t}),B.$set(l)},i(t){H||(E(B.$$.fragment,t),H=!0)},o(t){b(B.$$.fragment,t),H=!1},d(t){t&&h(e),t&&h(l),t&&h(y),T(B,t)}}}const J=t=>void 0===t.hearts||t.hearts<t.max;function K(t,e,l){let r,s;x(t,H,(t=>l(0,r=t)));let a=y(H,(t=>Object.values(B.villagers).map((e=>({...e,hearts:0,max:e.datable?8:10,given:0,...null==t?void 0:t.relationships[e.name]}))).sort(((t,e)=>t.hearts-e.hearts))));return x(t,a,(t=>l(1,s=t))),[r,s,a]}export default class extends t{constructor(t){super(),e(this,t,K,Y,l,{})}}
