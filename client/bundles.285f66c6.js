import{S as t,i as e,s as l,e as n,t as s,a as o,f as c,g as i,h as r,d as a,b as h,k as u,l as m,m as f,C as d,o as g,p,A as v,B as b,q as $,u as y,v as I,z as j,w as E,x as O,c as k,j as D,n as V,r as q,y as B,a9 as C,aa as w}from"./client.25ffd2d6.js";import"../../../../../jimp.min.js";import{I as A}from"./ItemButton.01626b1b.js";function x(t,e,l){const n=t.slice();return n[3]=e[l][0],n[4]=e[l][1],n}function N(t,e,l){const n=t.slice();return n[7]=e[l],n}function S(t,e,l){const n=t.slice();return n[10]=e[l],n}function H(t,e,l){const n=t.slice();return n[13]=e[l],n}function z(t){let e,l,s,r,f,d,$,y=[...Array(t[7].slots).keys()],I=[];for(let e=0;e<y.length;e+=1)I[e]=G(H(t,y,e));const E=t=>p(I[t],1,1,(()=>{I[t]=null})),O=[K,J],k=[];function D(t,e){return 3&e&&(s=!(null===t[1]||!t[7].items.every(X))),s?0:1}return r=D(t,-1),f=k[r]=O[r](t),{c(){e=n("div");for(let t=0;t<I.length;t+=1)I[t].c();l=o(),f.c(),d=B(),this.h()},l(t){e=c(t,"DIV",{class:!0,style:!0});var n=i(e);for(let t=0;t<I.length;t+=1)I[t].l(n);n.forEach(a),l=h(t),f.l(t),d=B(),this.h()},h(){u(e,"class","slots svelte-1hnin7c"),C(e,"--slots",t[7].slots)},m(t,n){m(t,e,n);for(let t=0;t<I.length;t+=1)I[t].m(e,null);m(t,l,n),k[r].m(t,n),m(t,d,n),$=!0},p(t,l){if(3&l){let n;for(y=[...Array(t[7].slots).keys()],n=0;n<y.length;n+=1){const s=H(t,y,n);I[n]?(I[n].p(s,l),g(I[n],1)):(I[n]=G(s),I[n].c(),g(I[n],1),I[n].m(e,null))}for(j(),n=y.length;n<I.length;n+=1)E(n);v()}(!$||1&l)&&C(e,"--slots",t[7].slots);let n=r;r=D(t,l),r===n?k[r].p(t,l):(j(),p(k[n],1,1,(()=>{k[n]=null})),v(),f=k[r],f?f.p(t,l):(f=k[r]=O[r](t),f.c()),g(f,1),f.m(d.parentNode,d))},i(t){if(!$){for(let t=0;t<y.length;t+=1)g(I[t]);g(f),$=!0}},o(t){I=I.filter(Boolean);for(let t=0;t<I.length;t+=1)p(I[t]);p(f),$=!1},d(t){t&&a(e),b(I,t),t&&a(l),k[r].d(t),t&&a(d)}}}function P(t){let e,l;function n(t,l){return(null==e||3&l)&&(e=!(null===t[1]||!t[1].bundleCompletion.get(t[7].id).some(W))),e?Q:M}let s=n(t,-1),o=s(t);return{c(){o.c(),l=B()},l(t){o.l(t),l=B()},m(t,e){o.m(t,e),m(t,l,e)},p(t,e){s!==(s=n(t,e))&&(o.d(1),o=s(t),o&&(o.c(),o.m(l.parentNode,l)))},i:w,o:w,d(t){o.d(t),t&&a(l)}}}function F(t){let e,l;return e=new A({props:{scale:2,item:t[7].completedItems[t[13]]}}),{c(){k(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,n){V(e,t,n),l=!0},p(t,l){const n={};1&l&&(n.item=t[7].completedItems[t[13]]),e.$set(n)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function G(t){let e,l,s,r=null!==t[1]&&t[7].completedItems.length>t[13]&&F(t);return{c(){e=n("span"),r&&r.c(),l=o(),this.h()},l(t){e=c(t,"SPAN",{class:!0});var n=i(e);r&&r.l(n),l=h(n),n.forEach(a),this.h()},h(){u(e,"class","slot svelte-1hnin7c")},m(t,n){m(t,e,n),r&&r.m(e,null),f(e,l),s=!0},p(t,n){null!==t[1]&&t[7].completedItems.length>t[13]?r?(r.p(t,n),3&n&&g(r,1)):(r=F(t),r.c(),g(r,1),r.m(e,l)):r&&(j(),p(r,1,1,(()=>{r=null})),v())},i(t){s||(g(r),s=!0)},o(t){p(r),s=!1},d(t){t&&a(e),r&&r.d()}}}function J(t){let e,l,s=t[7].items.filter(Y),o=[];for(let e=0;e<s.length;e+=1)o[e]=L(S(t,s,e));const r=t=>p(o[t],1,1,(()=>{o[t]=null}));return{c(){e=n("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){e=c(t,"DIV",{class:!0});var l=i(e);for(let t=0;t<o.length;t+=1)o[t].l(l);l.forEach(a),this.h()},h(){u(e,"class","options svelte-1hnin7c")},m(t,n){m(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null);l=!0},p(t,l){if(1&l){let n;for(s=t[7].items.filter(Y),n=0;n<s.length;n+=1){const c=S(t,s,n);o[n]?(o[n].p(c,l),g(o[n],1)):(o[n]=L(c),o[n].c(),g(o[n],1),o[n].m(e,null))}for(j(),n=s.length;n<o.length;n+=1)r(n);v()}},i(t){if(!l){for(let t=0;t<s.length;t+=1)g(o[t]);l=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)p(o[t]);l=!1},d(t){t&&a(e),b(o,t)}}}function K(t){let e,l;return{c(){e=n("div"),l=s("check"),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);l=r(n,"check"),n.forEach(a),this.h()},h(){u(e,"class","completed material-icons svelte-1hnin7c")},m(t,n){m(t,e,n),f(e,l)},p:w,i:w,o:w,d(t){t&&a(e)}}}function L(t){let e,l;return e=new A({props:{item:t[10],scale:2,quality:t[10].quality,quantity:t[10].amount}}),{c(){k(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,n){V(e,t,n),l=!0},p(t,l){const n={};1&l&&(n.item=t[10]),1&l&&(n.quality=t[10].quality),1&l&&(n.quantity=t[10].amount),e.$set(n)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function M(t){let e,l;return{c(){e=n("div"),l=s("close"),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);l=r(n,"close"),n.forEach(a),this.h()},h(){u(e,"class","not-completed material-icons svelte-1hnin7c")},m(t,n){m(t,e,n),f(e,l)},d(t){t&&a(e)}}}function Q(t){let e,l;return{c(){e=n("div"),l=s("check"),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);l=r(n,"check"),n.forEach(a),this.h()},h(){u(e,"class","completed material-icons svelte-1hnin7c")},m(t,n){m(t,e,n),f(e,l)},d(t){t&&a(e)}}}function R(t){let e,l,b,$,y,I,E,O=t[7].name+"";const k=[P,z],D=[];function V(t,e){return t[7].gold>0?0:1}return y=V(t),I=D[y]=k[y](t),{c(){e=n("div"),l=n("h5"),b=s(O),$=o(),I.c(),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);l=c(n,"H5",{class:!0});var s=i(l);b=r(s,O),s.forEach(a),$=h(n),I.l(n),n.forEach(a),this.h()},h(){u(l,"class","mdc-typography--headline6 svelte-1hnin7c"),u(e,"class","bundle mdc-card mdc-card--outlined svelte-1hnin7c")},m(t,n){m(t,e,n),f(e,l),f(l,b),f(e,$),D[y].m(e,null),E=!0},p(t,l){(!E||1&l)&&O!==(O=t[7].name+"")&&d(b,O);let n=y;y=V(t),y===n?D[y].p(t,l):(j(),p(D[n],1,1,(()=>{D[n]=null})),v(),I=D[y],I?I.p(t,l):(I=D[y]=k[y](t),I.c()),g(I,1),I.m(e,null))},i(t){E||(g(I),E=!0)},o(t){p(I),E=!1},d(t){t&&a(e),D[y].d()}}}function T(t){let e,l,$,y,I,E,O=t[3]+"",k=t[4],D=[];for(let e=0;e<k.length;e+=1)D[e]=R(N(t,k,e));const V=t=>p(D[t],1,1,(()=>{D[t]=null}));return{c(){e=n("h1"),l=s(O),$=o(),y=n("div");for(let t=0;t<D.length;t+=1)D[t].c();I=o(),this.h()},l(t){e=c(t,"H1",{class:!0});var n=i(e);l=r(n,O),n.forEach(a),$=h(t),y=c(t,"DIV",{class:!0});var s=i(y);for(let t=0;t<D.length;t+=1)D[t].l(s);I=h(s),s.forEach(a),this.h()},h(){u(e,"class","svelte-1hnin7c"),u(y,"class","section svelte-1hnin7c")},m(t,n){m(t,e,n),f(e,l),m(t,$,n),m(t,y,n);for(let t=0;t<D.length;t+=1)D[t].m(y,null);f(y,I),E=!0},p(t,e){if((!E||1&e)&&O!==(O=t[3]+"")&&d(l,O),3&e){let l;for(k=t[4],l=0;l<k.length;l+=1){const n=N(t,k,l);D[l]?(D[l].p(n,e),g(D[l],1)):(D[l]=R(n),D[l].c(),g(D[l],1),D[l].m(y,I))}for(j(),l=k.length;l<D.length;l+=1)V(l);v()}},i(t){if(!E){for(let t=0;t<k.length;t+=1)g(D[t]);E=!0}},o(t){D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)p(D[t]);E=!1},d(t){t&&a(e),t&&a($),t&&a(y),b(D,t)}}}function U(t){let e,l,s,r=Object.entries(t[0]),f=[];for(let e=0;e<r.length;e+=1)f[e]=T(x(t,r,e));const d=t=>p(f[t],1,1,(()=>{f[t]=null}));return{c(){e=o(),l=n("div");for(let t=0;t<f.length;t+=1)f[t].c();this.h()},l(t){$('[data-svelte="svelte-kcgu6a"]',document.head).forEach(a),e=h(t),l=c(t,"DIV",{class:!0});var n=i(l);for(let t=0;t<f.length;t+=1)f[t].l(n);n.forEach(a),this.h()},h(){document.title="Bundles | Stardew Completionist",u(l,"class","container svelte-1hnin7c")},m(t,n){m(t,e,n),m(t,l,n);for(let t=0;t<f.length;t+=1)f[t].m(l,null);s=!0},p(t,[e]){if(3&e){let n;for(r=Object.entries(t[0]),n=0;n<r.length;n+=1){const s=x(t,r,n);f[n]?(f[n].p(s,e),g(f[n],1)):(f[n]=T(s),f[n].c(),g(f[n],1),f[n].m(l,null))}for(j(),n=r.length;n<f.length;n+=1)d(n);v()}},i(t){if(!s){for(let t=0;t<r.length;t+=1)g(f[t]);s=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)p(f[t]);s=!1},d(t){t&&a(e),t&&a(l),b(f,t)}}}const W=t=>t,X=t=>t.completed,Y=t=>!t.completed;function Z(t,e,l){let n,s;y(t,O,(t=>l(1,s=t)));const o=I(O,(t=>E.bundles.reduce(((e,l)=>{var n;return Object.assign(Object.assign({},e),{[l.section]:[...null!==(n=e[l.section])&&void 0!==n?n:[],Object.assign(Object.assign({},l),{items:l.items.filter((t=>t.id in E.items)).map(((e,n)=>{var s;return Object.assign(Object.assign(Object.assign({},e),E.items[e.id]),{completed:null!==t&&t.bundleCompletion.has(l.id)&&(null===(s=t.bundleCompletion.get(l.id))||void 0===s?void 0:s[n])})})),completedItems:l.items.filter((({id:e},n)=>{var s,o;return(null===(o=null===(s=null==t?void 0:t.bundleCompletion.get(l.id))||void 0===s?void 0:s[n])||void 0===o||o)&&E.items[e]})).map((({id:t})=>E.items[t]))})]})}),{})));return y(t,o,(t=>l(0,n=t))),[n,s,o]}export default class extends t{constructor(t){super(),e(this,t,Z,U,l,{})}}
