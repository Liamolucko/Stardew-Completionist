import{ac as t,w as e,S as n,i as r,s,c as l,j as c,n as o,o as a,p as i,r as f,a as $,e as m,t as u,b as d,f as p,g,h,d as v,k as x,l as w,m as y,ad as b,C as j,B as I,q as E,a7 as q,A as C,u as O,v as k,x as R,ae as S,z as B,y as D,a9 as L}from"./client.25ffd2d6.js";import"../../../../../jimp.min.js";import{D as N,H as V,B as H,R as z,C as A}from"./Cell.715f3b38.js";import{I as P}from"./ItemButton.01626b1b.js";function U(t,e,n){const r=t.slice();return r[7]=e[n][0],r[8]=e[n][1],r}function M(t,e,n){const r=t.slice();return r[11]=e[n],r}function F(t,e,n){const r=t.slice();return r[14]=e[n],r}function G(t,e,n){const r=t.slice();return r[17]=e[n],r}function J(t){let e,n;return e=new P({props:{item:t[17],scale:t[17].isCraftable?2:3,shadow:!0,grey:null!==t[3]&&!t[3].collectedItems.includes(t[17].id)}}),{c(){l(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,r){o(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.item=t[17]),2&n&&(r.scale=t[17].isCraftable?2:3),10&n&&(r.grey=null!==t[3]&&!t[3].collectedItems.includes(t[17].id)),e.$set(r)},i(t){n||(a(e.$$.fragment,t),n=!0)},o(t){i(e.$$.fragment,t),n=!1},d(t){f(e,t)}}}function K(t){let e,n,r,s,b,j,E,q;e=new N({props:{style:"grid-area: r",$$slots:{default:[st]},$$scope:{ctx:t}}});let C=Object.entries(t[4]??{}),O=[];for(let e=0;e<C.length;e+=1)O[e]=lt(U(t,C,e));return{c(){l(e.$$.fragment),n=$(),r=m("div"),s=m("h2"),b=u("Required Ingredients"),j=$(),E=m("ul");for(let t=0;t<O.length;t+=1)O[t].c();this.h()},l(t){c(e.$$.fragment,t),n=d(t),r=p(t,"DIV",{class:!0});var l=g(r);s=p(l,"H2",{class:!0});var o=g(s);b=h(o,"Required Ingredients"),o.forEach(v),j=d(l),E=p(l,"UL",{class:!0});var a=g(E);for(let t=0;t<O.length;t+=1)O[t].l(a);a.forEach(v),l.forEach(v),this.h()},h(){x(s,"class","mdc-typography--headline6 svelte-tr1qr4"),x(E,"class","svelte-tr1qr4"),x(r,"class","mdc-card mdc-card--outlined ingredients svelte-tr1qr4")},m(t,l){o(e,t,l),w(t,n,l),w(t,r,l),y(r,s),y(s,b),y(r,j),y(r,E);for(let t=0;t<O.length;t+=1)O[t].m(E,null);q=!0},p(t,n){const r={};if(1048588&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r),24&n){let e;for(C=Object.entries(t[4]??{}),e=0;e<C.length;e+=1){const r=U(t,C,e);O[e]?O[e].p(r,n):(O[e]=lt(r),O[e].c(),O[e].m(E,null))}for(;e<O.length;e+=1)O[e].d(1);O.length=C.length}},i(t){q||(a(e.$$.fragment,t),q=!0)},o(t){i(e.$$.fragment,t),q=!1},d(t){f(e,t),t&&v(n),t&&v(r),I(O,t)}}}function Q(t){let e;return{c(){e=u("Recipe")},l(t){e=h(t,"Recipe")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function T(t){let e;return{c(){e=u("Sources")},l(t){e=h(t,"Sources")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function W(t){let e,n,r,s;return e=new A({props:{$$slots:{default:[Q]},$$scope:{ctx:t}}}),r=new A({props:{$$slots:{default:[T]},$$scope:{ctx:t}}}),{c(){l(e.$$.fragment),n=$(),l(r.$$.fragment)},l(t){c(e.$$.fragment,t),n=d(t),c(r.$$.fragment,t)},m(t,l){o(e,t,l),w(t,n,l),o(r,t,l),s=!0},p(t,n){const s={};1048576&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const l={};1048576&n&&(l.$$scope={dirty:n,ctx:t}),r.$set(l)},i(t){s||(a(e.$$.fragment,t),a(r.$$.fragment,t),s=!0)},o(t){i(e.$$.fragment,t),i(r.$$.fragment,t),s=!1},d(t){f(e,t),t&&v(n),f(r,t)}}}function X(t){let e,n;return e=new z({props:{$$slots:{default:[W]},$$scope:{ctx:t}}}),{c(){l(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,r){o(e,t,r),n=!0},p(t,n){const r={};1048576&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(a(e.$$.fragment,t),n=!0)},o(t){i(e.$$.fragment,t),n=!1},d(t){f(e,t)}}}function Y(t){let e,n,r,s,x,b=t[11].name+"";return e=new P({props:{item:t[11].result,scale:t[11].result.isCraftable?1:2}}),{c(){l(e.$$.fragment),n=$(),r=m("span"),s=u(b),this.h()},l(t){c(e.$$.fragment,t),n=d(t),r=p(t,"SPAN",{style:!0});var l=g(r);s=h(l,b),l.forEach(v),this.h()},h(){L(r,"padding-left","8px")},m(t,l){o(e,t,l),w(t,n,l),w(t,r,l),y(r,s),x=!0},p(t,n){const r={};12&n&&(r.item=t[11].result),12&n&&(r.scale=t[11].result.isCraftable?1:2),e.$set(r),(!x||12&n)&&b!==(b=t[11].name+"")&&j(s,b)},i(t){x||(a(e.$$.fragment,t),x=!0)},o(t){i(e.$$.fragment,t),x=!1},d(t){f(e,t),t&&v(n),t&&v(r)}}}function Z(t){let e,n=t[11].sources,r=[];for(let e=0;e<n.length;e+=1)r[e]=_(F(t,n,e));return{c(){e=m("ul");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=p(t,"UL",{class:!0});var n=g(e);for(let t=0;t<r.length;t+=1)r[t].l(n);n.forEach(v),this.h()},h(){x(e,"class","source-list svelte-tr1qr4")},m(t,n){w(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,s){if(12&s){let l;for(n=t[11].sources,l=0;l<n.length;l+=1){const c=F(t,n,l);r[l]?r[l].p(c,s):(r[l]=_(c),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(t){t&&v(e),I(r,t)}}}function _(t){let e,n,r=t[14]+"";return{c(){e=m("li"),n=u(r)},l(t){e=p(t,"LI",{});var s=g(e);n=h(s,r),s.forEach(v)},m(t,r){w(t,e,r),y(e,n)},p(t,e){12&e&&r!==(r=t[14]+"")&&j(n,r)},d(t){t&&v(e)}}}function tt(t){let e,n=void 0!==t[11].sources&&Z(t);return{c(){n&&n.c(),e=D()},l(t){n&&n.l(t),e=D()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){void 0!==t[11].sources?n?n.p(t,r):(n=Z(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&v(e)}}}function et(t){let e,n,r,s,m;return e=new A({props:{$$slots:{default:[Y]},$$scope:{ctx:t}}}),r=new A({props:{$$slots:{default:[tt]},$$scope:{ctx:t}}}),{c(){l(e.$$.fragment),n=$(),l(r.$$.fragment),s=$()},l(t){c(e.$$.fragment,t),n=d(t),c(r.$$.fragment,t),s=d(t)},m(t,l){o(e,t,l),w(t,n,l),o(r,t,l),w(t,s,l),m=!0},p(t,n){const s={};1048588&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const l={};1048588&n&&(l.$$scope={dirty:n,ctx:t}),r.$set(l)},i(t){m||(a(e.$$.fragment,t),a(r.$$.fragment,t),m=!0)},o(t){i(e.$$.fragment,t),i(r.$$.fragment,t),m=!1},d(t){f(e,t),t&&v(n),f(r,t),t&&v(s)}}}function nt(t){let e,n;return e=new z({props:{$$slots:{default:[et]},$$scope:{ctx:t}}}),{c(){l(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,r){o(e,t,r),n=!0},p(t,n){const r={};1048588&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(a(e.$$.fragment,t),n=!0)},o(t){i(e.$$.fragment,t),n=!1},d(t){f(e,t)}}}function rt(t){let e,n,r=t[2].filter(t[6]),s=[];for(let e=0;e<r.length;e+=1)s[e]=nt(M(t,r,e));const l=t=>i(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=D()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=D()},m(t,r){for(let e=0;e<s.length;e+=1)s[e].m(t,r);w(t,e,r),n=!0},p(t,n){if(12&n){let c;for(r=t[2].filter(t[6]),c=0;c<r.length;c+=1){const l=M(t,r,c);s[c]?(s[c].p(l,n),a(s[c],1)):(s[c]=nt(l),s[c].c(),a(s[c],1),s[c].m(e.parentNode,e))}for(B(),c=r.length;c<s.length;c+=1)l(c);C()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)a(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)i(s[t]);n=!1},d(t){I(s,t),t&&v(e)}}}function st(t){let e,n,r,s;return e=new V({props:{$$slots:{default:[X]},$$scope:{ctx:t}}}),r=new H({props:{$$slots:{default:[rt]},$$scope:{ctx:t}}}),{c(){l(e.$$.fragment),n=$(),l(r.$$.fragment)},l(t){c(e.$$.fragment,t),n=d(t),c(r.$$.fragment,t)},m(t,l){o(e,t,l),w(t,n,l),o(r,t,l),s=!0},p(t,n){const s={};1048576&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const l={};1048588&n&&(l.$$scope={dirty:n,ctx:t}),r.$set(l)},i(t){s||(a(e.$$.fragment,t),a(r.$$.fragment,t),s=!0)},o(t){i(e.$$.fragment,t),i(r.$$.fragment,t),s=!1},d(t){f(e,t),t&&v(n),f(r,t)}}}function lt(t){let n,r,s,l,c,o,a,i=(b.get(t[7])||e.items[t[7]].name)+"",f=(t[3].items[t[7]]??0)+"",x=t[8]+"";return{c(){n=m("li"),r=u(i),s=u(":\n            "),l=u(f),c=u("/"),o=u(x),a=$()},l(t){n=p(t,"LI",{});var e=g(n);r=h(e,i),s=h(e,":\n            "),l=h(e,f),c=h(e,"/"),o=h(e,x),a=d(e),e.forEach(v)},m(t,e){w(t,n,e),y(n,r),y(n,s),y(n,l),y(n,c),y(n,o),y(n,a)},p(t,n){16&n&&i!==(i=(b.get(t[7])||e.items[t[7]].name)+"")&&j(r,i),24&n&&f!==(f=(t[3].items[t[7]]??0)+"")&&j(l,f),16&n&&x!==(x=t[8]+"")&&j(o,x)},d(t){t&&v(n)}}}function ct(t){let e,n,r,s,l,c,o,f,b,O;document.title=e=t[0]+" | Stardew Completionist";let k=t[1],R=[];for(let e=0;e<k.length;e+=1)R[e]=J(G(t,k,e));const S=t=>i(R[t],1,1,(()=>{R[t]=null}));let D=void 0!==t[2]&&null!==t[3]&&K(t);return{c(){n=$(),r=m("div"),s=m("div"),l=m("h2"),c=u(t[0]),o=$(),f=m("div");for(let t=0;t<R.length;t+=1)R[t].c();b=$(),D&&D.c(),this.h()},l(e){E('[data-svelte="svelte-19v14rz"]',document.head).forEach(v),n=d(e),r=p(e,"DIV",{class:!0});var a=g(r);s=p(a,"DIV",{class:!0});var i=g(s);l=p(i,"H2",{class:!0});var $=g(l);c=h($,t[0]),$.forEach(v),o=d(i),f=p(i,"DIV",{class:!0});var m=g(f);for(let t=0;t<R.length;t+=1)R[t].l(m);m.forEach(v),i.forEach(v),b=d(a),D&&D.l(a),a.forEach(v),this.h()},h(){x(l,"class","mdc-typography--headline6 svelte-tr1qr4"),x(f,"class","item-grid svelte-tr1qr4"),x(s,"class","mdc-card mdc-card--outlined grid-card svelte-tr1qr4"),x(r,"class","container svelte-tr1qr4"),q(r,"has-unknown-recipes",void 0!==t[2]&&null!==t[3])},m(t,e){w(t,n,e),w(t,r,e),y(r,s),y(s,l),y(l,c),y(s,o),y(s,f);for(let t=0;t<R.length;t+=1)R[t].m(f,null);y(r,b),D&&D.m(r,null),O=!0},p(t,[n]){if((!O||1&n)&&e!==(e=t[0]+" | Stardew Completionist")&&(document.title=e),(!O||1&n)&&j(c,t[0]),10&n){let e;for(k=t[1],e=0;e<k.length;e+=1){const r=G(t,k,e);R[e]?(R[e].p(r,n),a(R[e],1)):(R[e]=J(r),R[e].c(),a(R[e],1),R[e].m(f,null))}for(B(),e=k.length;e<R.length;e+=1)S(e);C()}void 0!==t[2]&&null!==t[3]?D?(D.p(t,n),12&n&&a(D,1)):(D=K(t),D.c(),a(D,1),D.m(r,null)):D&&(B(),i(D,1,1,(()=>{D=null})),C()),12&n&&q(r,"has-unknown-recipes",void 0!==t[2]&&null!==t[3])},i(t){if(!O){for(let t=0;t<k.length;t+=1)a(R[t]);a(D),O=!0}},o(t){R=R.filter(Boolean);for(let t=0;t<R.length;t+=1)i(R[t]);i(D),O=!1},d(t){t&&v(n),t&&v(r),I(R,t),D&&D.d()}}}var ot=function(t,e,n,r){return new(n||(n=Promise))((function(s,l){function c(t){try{a(r.next(t))}catch(t){l(t)}}function o(t){try{a(r.throw(t))}catch(t){l(t)}}function a(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,o)}a((r=r.apply(t,e||[])).next())}))};function at(n){return ot(this,void 0,void 0,(function*(){return["shipping","fish","artifacts","minerals","cooking","crafting"].includes(n.params.collection)?"cooking"===n.params.collection||"crafting"===n.params.collection?{title:t.get(n.params.collection),recipes:e[n.params.collection],items:e[n.params.collection].map((t=>t.result))}:{title:t.get(n.params.collection),items:e[n.params.collection],recipes:void 0}:this.error(404,"Not found")}))}function it(t,n,r){let s,l;O(t,R,(t=>r(3,s=t)));let{title:c}=n,{items:o}=n,{recipes:a}=n;const i=k([R,S().page],(([t])=>{var n,r,s;if(a&&null!==t){const l={},c=t=>{var n,r;for(const[s,o]of Object.entries(t.ingredients)){const t=Object.values(e.recipes).find((t=>t.result.id===s));t&&(null!==(n=l[r=t.name])&&void 0!==n||(l[r]=0),l[t.name]+=o/t.amount,c(t))}},o=a.filter((e=>!t.collectedItems.includes(e.result.id)));for(const t of o)c(t);for(const t in l)l[t]=Math.ceil(l[t]);for(const t of o)null!==(n=l[s=t.name])&&void 0!==n||(l[s]=1);const i={};for(const[t,n]of Object.entries(l)){const s=e.recipes[t];for(const[t,l]of Object.entries(s.ingredients))Object.values(e.recipes).some((e=>e.result.id===t))||(null!==(r=i[t])&&void 0!==r||(i[t]=0),i[t]+=l*n)}return i}return null}));O(t,i,(t=>r(4,l=t)));return t.$$set=t=>{"title"in t&&r(0,c=t.title),"items"in t&&r(1,o=t.items),"recipes"in t&&r(2,a=t.recipes)},[c,o,a,s,l,i,t=>!s.knownRecipes.includes(t.name)]}export default class extends n{constructor(t){super(),r(this,t,it,ct,s,{title:0,items:1,recipes:2})}}export{at as preload};
