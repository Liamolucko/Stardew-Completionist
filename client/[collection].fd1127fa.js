import{g as e,ac as t,S as n,i as s,s as r,c as l,k as c,o,p as a,r as i,u as f,a as $,e as m,t as u,b as d,f as g,h as p,j as h,d as v,l as x,m as w,n as y,ad as I,C as b,B as E,q as j,a7 as q,A as C,v as O,w as k,x as R,ae as S,z as B,y as D,a9 as L}from"./client.005398ff.js";import{D as N,H as V,B as H,R as z,C as A}from"./Cell.bd08d9d8.js";import{I as U}from"./ItemButton.88906dc3.js";function M(e,t,n){const s=e.slice();return s[8]=t[n][0],s[9]=t[n][1],s}function P(e,t,n){const s=e.slice();return s[15]=t[n],s}function F(e,t,n){const s=e.slice();return s[12]=t[n],s}function G(e,t,n){const s=e.slice();return s[18]=t[n],s}function J(e){let t,n;return t=new U({props:{item:e[18],scale:e[18].isCraftable?2:3,shadow:!0,grey:null!==e[4]&&!e[4].collectedItems.includes(e[18].id)}}),{c(){l(t.$$.fragment)},l(e){c(t.$$.fragment,e)},m(e,s){o(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.item=e[18]),4&n&&(s.scale=e[18].isCraftable?2:3),20&n&&(s.grey=null!==e[4]&&!e[4].collectedItems.includes(e[18].id)),t.$set(s)},i(e){n||(a(t.$$.fragment,e),n=!0)},o(e){i(t.$$.fragment,e),n=!1},d(e){f(t,e)}}}function K(e){let t,n,s,r,I,b,j,q;t=new N({props:{style:"grid-area: r",$$slots:{default:[re]},$$scope:{ctx:e}}});let C=Object.entries(e[5]??{}),O=[];for(let t=0;t<C.length;t+=1)O[t]=le(M(e,C,t));return{c(){l(t.$$.fragment),n=$(),s=m("div"),r=m("h2"),I=u("Required Ingredients"),b=$(),j=m("ul");for(let e=0;e<O.length;e+=1)O[e].c();this.h()},l(e){c(t.$$.fragment,e),n=d(e),s=g(e,"DIV",{class:!0});var l=p(s);r=g(l,"H2",{class:!0});var o=p(r);I=h(o,"Required Ingredients"),o.forEach(v),b=d(l),j=g(l,"UL",{class:!0});var a=p(j);for(let e=0;e<O.length;e+=1)O[e].l(a);a.forEach(v),l.forEach(v),this.h()},h(){x(r,"class","mdc-typography--headline6 svelte-tr1qr4"),x(j,"class","svelte-tr1qr4"),x(s,"class","mdc-card mdc-card--outlined ingredients svelte-tr1qr4")},m(e,l){o(t,e,l),w(e,n,l),w(e,s,l),y(s,r),y(r,I),y(s,b),y(s,j);for(let e=0;e<O.length;e+=1)O[e].m(j,null);q=!0},p(e,n){const s={};if(2097176&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),49&n){let t;for(C=Object.entries(e[5]??{}),t=0;t<C.length;t+=1){const s=M(e,C,t);O[t]?O[t].p(s,n):(O[t]=le(s),O[t].c(),O[t].m(j,null))}for(;t<O.length;t+=1)O[t].d(1);O.length=C.length}},i(e){q||(a(t.$$.fragment,e),q=!0)},o(e){i(t.$$.fragment,e),q=!1},d(e){f(t,e),e&&v(n),e&&v(s),E(O,e)}}}function Q(e){let t;return{c(){t=u("Recipe")},l(e){t=h(e,"Recipe")},m(e,n){w(e,t,n)},d(e){e&&v(t)}}}function T(e){let t;return{c(){t=u("Sources")},l(e){t=h(e,"Sources")},m(e,n){w(e,t,n)},d(e){e&&v(t)}}}function W(e){let t,n,s,r;return t=new A({props:{$$slots:{default:[Q]},$$scope:{ctx:e}}}),s=new A({props:{$$slots:{default:[T]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment),n=$(),l(s.$$.fragment)},l(e){c(t.$$.fragment,e),n=d(e),c(s.$$.fragment,e)},m(e,l){o(t,e,l),w(e,n,l),o(s,e,l),r=!0},p(e,n){const r={};2097152&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const l={};2097152&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l)},i(e){r||(a(t.$$.fragment,e),a(s.$$.fragment,e),r=!0)},o(e){i(t.$$.fragment,e),i(s.$$.fragment,e),r=!1},d(e){f(t,e),e&&v(n),f(s,e)}}}function X(e){let t,n;return t=new z({props:{$$slots:{default:[W]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment)},l(e){c(t.$$.fragment,e)},m(e,s){o(t,e,s),n=!0},p(e,n){const s={};2097152&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(a(t.$$.fragment,e),n=!0)},o(e){i(t.$$.fragment,e),n=!1},d(e){f(t,e)}}}function Y(e){let t,n,s,r,x,I=e[12].name+"";return t=new U({props:{item:e[12].result,scale:e[12].result.isCraftable?1:2}}),{c(){l(t.$$.fragment),n=$(),s=m("span"),r=u(I),this.h()},l(e){c(t.$$.fragment,e),n=d(e),s=g(e,"SPAN",{style:!0});var l=p(s);r=h(l,I),l.forEach(v),this.h()},h(){L(s,"padding-left","8px")},m(e,l){o(t,e,l),w(e,n,l),w(e,s,l),y(s,r),x=!0},p(e,n){const s={};24&n&&(s.item=e[12].result),24&n&&(s.scale=e[12].result.isCraftable?1:2),t.$set(s),(!x||24&n)&&I!==(I=e[12].name+"")&&b(r,I)},i(e){x||(a(t.$$.fragment,e),x=!0)},o(e){i(t.$$.fragment,e),x=!1},d(e){f(t,e),e&&v(n),e&&v(s)}}}function Z(e){let t,n=e[12].sources,s=[];for(let t=0;t<n.length;t+=1)s[t]=_(P(e,n,t));return{c(){t=m("ul");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=g(e,"UL",{class:!0});var n=p(t);for(let e=0;e<s.length;e+=1)s[e].l(n);n.forEach(v),this.h()},h(){x(t,"class","source-list svelte-tr1qr4")},m(e,n){w(e,t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,r){if(24&r){let l;for(n=e[12].sources,l=0;l<n.length;l+=1){const c=P(e,n,l);s[l]?s[l].p(c,r):(s[l]=_(c),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},d(e){e&&v(t),E(s,e)}}}function _(e){let t,n,s=e[15]+"";return{c(){t=m("li"),n=u(s)},l(e){t=g(e,"LI",{});var r=p(t);n=h(r,s),r.forEach(v)},m(e,s){w(e,t,s),y(t,n)},p(e,t){24&t&&s!==(s=e[15]+"")&&b(n,s)},d(e){e&&v(t)}}}function ee(e){let t,n=void 0!==e[12].sources&&Z(e);return{c(){n&&n.c(),t=D()},l(e){n&&n.l(e),t=D()},m(e,s){n&&n.m(e,s),w(e,t,s)},p(e,s){void 0!==e[12].sources?n?n.p(e,s):(n=Z(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function te(e){let t,n,s,r,m;return t=new A({props:{$$slots:{default:[Y]},$$scope:{ctx:e}}}),s=new A({props:{$$slots:{default:[ee]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment),n=$(),l(s.$$.fragment),r=$()},l(e){c(t.$$.fragment,e),n=d(e),c(s.$$.fragment,e),r=d(e)},m(e,l){o(t,e,l),w(e,n,l),o(s,e,l),w(e,r,l),m=!0},p(e,n){const r={};2097176&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const l={};2097176&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l)},i(e){m||(a(t.$$.fragment,e),a(s.$$.fragment,e),m=!0)},o(e){i(t.$$.fragment,e),i(s.$$.fragment,e),m=!1},d(e){f(t,e),e&&v(n),f(s,e),e&&v(r)}}}function ne(e){let t,n;return t=new z({props:{$$slots:{default:[te]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment)},l(e){c(t.$$.fragment,e)},m(e,s){o(t,e,s),n=!0},p(e,n){const s={};2097176&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(a(t.$$.fragment,e),n=!0)},o(e){i(t.$$.fragment,e),n=!1},d(e){f(t,e)}}}function se(e){let t,n,s=e[3].filter(e[7]),r=[];for(let t=0;t<s.length;t+=1)r[t]=ne(F(e,s,t));const l=e=>i(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=D()},l(e){for(let t=0;t<r.length;t+=1)r[t].l(e);t=D()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);w(e,t,s),n=!0},p(e,n){if(24&n){let c;for(s=e[3].filter(e[7]),c=0;c<s.length;c+=1){const l=F(e,s,c);r[c]?(r[c].p(l,n),a(r[c],1)):(r[c]=ne(l),r[c].c(),a(r[c],1),r[c].m(t.parentNode,t))}for(B(),c=s.length;c<r.length;c+=1)l(c);C()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)a(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)i(r[e]);n=!1},d(e){E(r,e),e&&v(t)}}}function re(e){let t,n,s,r;return t=new V({props:{$$slots:{default:[X]},$$scope:{ctx:e}}}),s=new H({props:{$$slots:{default:[se]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment),n=$(),l(s.$$.fragment)},l(e){c(t.$$.fragment,e),n=d(e),c(s.$$.fragment,e)},m(e,l){o(t,e,l),w(e,n,l),o(s,e,l),r=!0},p(e,n){const r={};2097152&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const l={};2097176&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l)},i(e){r||(a(t.$$.fragment,e),a(s.$$.fragment,e),r=!0)},o(e){i(t.$$.fragment,e),i(s.$$.fragment,e),r=!1},d(e){f(t,e),e&&v(n),f(s,e)}}}function le(e){let t,n,s,r,l,c,o,a=(I.get(e[8])||e[0].items[e[8]].name)+"",i=(e[4].items[e[8]]??0)+"",f=e[9]+"";return{c(){t=m("li"),n=u(a),s=u(":\n            "),r=u(i),l=u("/"),c=u(f),o=$()},l(e){t=g(e,"LI",{});var $=p(t);n=h($,a),s=h($,":\n            "),r=h($,i),l=h($,"/"),c=h($,f),o=d($),$.forEach(v)},m(e,a){w(e,t,a),y(t,n),y(t,s),y(t,r),y(t,l),y(t,c),y(t,o)},p(e,t){33&t&&a!==(a=(I.get(e[8])||e[0].items[e[8]].name)+"")&&b(n,a),48&t&&i!==(i=(e[4].items[e[8]]??0)+"")&&b(r,i),32&t&&f!==(f=e[9]+"")&&b(c,f)},d(e){e&&v(t)}}}function ce(e){let t,n,s,r,l,c,o,f,I,O;document.title=t=e[1]+" | Stardew Completionist";let k=e[2],R=[];for(let t=0;t<k.length;t+=1)R[t]=J(G(e,k,t));const S=e=>i(R[e],1,1,(()=>{R[e]=null}));let D=void 0!==e[3]&&null!==e[4]&&K(e);return{c(){n=$(),s=m("div"),r=m("div"),l=m("h2"),c=u(e[1]),o=$(),f=m("div");for(let e=0;e<R.length;e+=1)R[e].c();I=$(),D&&D.c(),this.h()},l(t){j('[data-svelte="svelte-19v14rz"]',document.head).forEach(v),n=d(t),s=g(t,"DIV",{class:!0});var a=p(s);r=g(a,"DIV",{class:!0});var i=p(r);l=g(i,"H2",{class:!0});var $=p(l);c=h($,e[1]),$.forEach(v),o=d(i),f=g(i,"DIV",{class:!0});var m=p(f);for(let e=0;e<R.length;e+=1)R[e].l(m);m.forEach(v),i.forEach(v),I=d(a),D&&D.l(a),a.forEach(v),this.h()},h(){x(l,"class","mdc-typography--headline6 svelte-tr1qr4"),x(f,"class","item-grid svelte-tr1qr4"),x(r,"class","mdc-card mdc-card--outlined grid-card svelte-tr1qr4"),x(s,"class","container svelte-tr1qr4"),q(s,"has-unknown-recipes",void 0!==e[3]&&null!==e[4])},m(e,t){w(e,n,t),w(e,s,t),y(s,r),y(r,l),y(l,c),y(r,o),y(r,f);for(let e=0;e<R.length;e+=1)R[e].m(f,null);y(s,I),D&&D.m(s,null),O=!0},p(e,[n]){if((!O||2&n)&&t!==(t=e[1]+" | Stardew Completionist")&&(document.title=t),(!O||2&n)&&b(c,e[1]),20&n){let t;for(k=e[2],t=0;t<k.length;t+=1){const s=G(e,k,t);R[t]?(R[t].p(s,n),a(R[t],1)):(R[t]=J(s),R[t].c(),a(R[t],1),R[t].m(f,null))}for(B(),t=k.length;t<R.length;t+=1)S(t);C()}void 0!==e[3]&&null!==e[4]?D?(D.p(e,n),24&n&&a(D,1)):(D=K(e),D.c(),a(D,1),D.m(s,null)):D&&(B(),i(D,1,1,(()=>{D=null})),C()),24&n&&q(s,"has-unknown-recipes",void 0!==e[3]&&null!==e[4])},i(e){if(!O){for(let e=0;e<k.length;e+=1)a(R[e]);a(D),O=!0}},o(e){R=R.filter(Boolean);for(let e=0;e<R.length;e+=1)i(R[e]);i(D),O=!1},d(e){e&&v(n),e&&v(s),E(R,e),D&&D.d()}}}async function oe(n){if(!["shipping","fish","artifacts","minerals","cooking","crafting"].includes(n.params.collection))return this.error(404,"Not found");const s=await e.fetch(this.fetch);return"cooking"===n.params.collection||"crafting"===n.params.collection?{gameInfo:s,title:t.get(n.params.collection),recipes:s[n.params.collection],items:s[n.params.collection].map((e=>e.result))}:{gameInfo:s,title:t.get(n.params.collection),items:s[n.params.collection],recipes:void 0}}function ae(e,t,n){let s,r;O(e,R,(e=>n(4,s=e)));let{gameInfo:l}=t,{title:c}=t,{items:o}=t,{recipes:a}=t;const i=k([R,S().page],(([e])=>{var t,n,s;if(a&&null!==e){const r={},c=e=>{var t,n;for(const[s,o]of Object.entries(e.ingredients)){const e=Object.values(l.recipes).find((e=>e.result.id===s));e&&(null!==(t=r[n=e.name])&&void 0!==t||(r[n]=0),r[e.name]+=o/e.amount,c(e))}},o=a.filter((t=>!e.collectedItems.includes(t.result.id)));for(const e of o)c(e);for(const e in r)r[e]=Math.ceil(r[e]);for(const e of o)null!==(t=r[s=e.name])&&void 0!==t||(r[s]=1);const i={};for(const[e,t]of Object.entries(r)){const s=l.recipes[e];for(const[e,r]of Object.entries(s.ingredients))Object.values(l.recipes).some((t=>t.result.id===e))||(null!==(n=i[e])&&void 0!==n||(i[e]=0),i[e]+=r*t)}return i}return null}));O(e,i,(e=>n(5,r=e)));return e.$$set=e=>{"gameInfo"in e&&n(0,l=e.gameInfo),"title"in e&&n(1,c=e.title),"items"in e&&n(2,o=e.items),"recipes"in e&&n(3,a=e.recipes)},[l,c,o,a,s,r,i,e=>!s.knownRecipes.includes(e.name)]}export default class extends n{constructor(e){super(),s(this,e,ae,ce,r,{gameInfo:0,title:1,items:2,recipes:3})}}export{oe as preload};
